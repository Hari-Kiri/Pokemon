{"ast":null,"code":"import _slicedToArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{f7,Page,Navbar,Icon,List,ListItem,BlockTitle}from'framework7-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WarningAlertTitle='<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';var ListPage=function ListPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokeapiResults=_useState2[0],setPokeapiResults=_useState2[1];// const [pokemonList, setPokemonList] = useState([]);\nvar items=[];// const getPokemonDetail = (pokeapiResultsArray) => {\n//     pokeapiResultsArray.forEach(element => {\n//         fetch(element.url, {method: 'GET'})\n//         .then((response) => response.json())\n//         .then((response) => {\n//             console.log(response);\n//             if (response.sprites.length <= 0) {\n//                 f7.dialog.alert(\n//                     \"Data from Pokeapi can't be processed\",\n//                     WarningAlertTitle\n//                 );\n//                 console.error('error: sprites from pokeapi is not an array\\nsprites:', response.sprites);\n//                 return;\n//             }\n//             if (!Array.isArray(response.moves) || response.moves.length <= 0) {\n//                 f7.dialog.alert(\n//                     \"Data from Pokeapi can't be processed\",\n//                     WarningAlertTitle\n//                 );\n//                 console.error('error: moves from pokeapi is not an array\\nmoves:', response.moves);\n//                 return;\n//             }\n//             if (!Array.isArray(response.types) || response.types.length <= 0) {\n//                 f7.dialog.alert(\n//                     \"Data from Pokeapi can't be processed\",\n//                     WarningAlertTitle\n//                 );\n//                 console.error('error: types from pokeapi is not an array\\ntypes:', response.types);\n//                 return;\n//             }\n//             const items = [];\n//             items.push(\n//                 <ListItem title={response.name} subtitle={response.id}>\n//                     <img\n//                         slot=\"media\"\n//                         src={response.sprites.other.dream_world.front_default}\n//                         width=\"44\"\n//                         alt={`artwork of ${response.name}`}\n//                     />\n//                 </ListItem>\n//             );\n//             setPokemonList(items);\n//             console.info('info: consume pokeapi success');\n//         })\n//         .catch(error => {\n//             f7.dialog.alert(\n//                 'Pokeapi error',\n//                 WarningAlertTitle\n//             );\n//             console.error('error:', error);\n//             return;\n//         });\n//     });\n// }\nuseEffect(function(){fetch('https://pokeapi.co/api/v2/pokemon?limit=2',{method:'GET'}).then(function(response){return response.json();}).then(function(response){if(Array.isArray(response.results)&&response.results.length>0){console.info('info: get results array from pokeapi');// getPokemonDetail(response.results);\nsetPokeapiResults(response.results);return;}f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);console.error('error: results from pokeapi is not an array');}).catch(function(error){f7.dialog.alert('Pokeapi error',WarningAlertTitle);console.error('error:',error);});},[]);useEffect(function(){pokeapiResults.forEach(function(element){fetch(element.url,{method:'GET'}).then(function(response){return response.json();}).then(function(response){console.log(response);if(response.sprites.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);console.error('error: sprites from pokeapi is not an array\\nsprites:',response.sprites);return;}if(!Array.isArray(response.moves)||response.moves.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);console.error('error: moves from pokeapi is not an array\\nmoves:',response.moves);return;}if(!Array.isArray(response.types)||response.types.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);console.error('error: types from pokeapi is not an array\\ntypes:',response.types);return;}items.push(/*#__PURE__*/_jsx(ListItem,{title:response.name,subtitle:response.id,children:/*#__PURE__*/_jsx(\"img\",{slot:\"media\",src:response.sprites.other.dream_world.front_default,width:\"44\",alt:\"artwork of \".concat(response.name)})}));console.info('info: consume pokeapi success');return;}).catch(function(error){f7.dialog.alert('Pokeapi error',WarningAlertTitle);console.error('error:',error);return;});});});return/*#__PURE__*/_jsxs(Page,{name:\"list\",children:[/*#__PURE__*/_jsx(Navbar,{title:\"Pokemon List\",children:/*#__PURE__*/_jsx(Icon,{slot:\"right\",f7:\"poultry_leg\"})}),/*#__PURE__*/_jsx(BlockTitle,{children:\"List\"}),/*#__PURE__*/_jsx(List,{mediaList:true,children:items})]});};export default ListPage;","map":{"version":3,"names":["React","useState","useEffect","f7","Page","Navbar","Icon","List","ListItem","BlockTitle","WarningAlertTitle","ListPage","pokeapiResults","setPokeapiResults","items","fetch","method","then","response","json","Array","isArray","results","length","console","info","dialog","alert","error","catch","forEach","element","url","log","sprites","moves","types","push","name","id","other","dream_world","front_default"],"sources":["/root/Pokemon/ui/src/ListPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n    f7,\n    Page, \n    Navbar, \n    Icon,\n    List,\n    ListItem,\n    BlockTitle\n} from 'framework7-react';\n\nconst WarningAlertTitle = '<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';\n\nconst ListPage = () => {\n    const [pokeapiResults, setPokeapiResults] = useState([]);\n    // const [pokemonList, setPokemonList] = useState([]);\n    const items = [];\n\n    // const getPokemonDetail = (pokeapiResultsArray) => {\n    //     pokeapiResultsArray.forEach(element => {\n    //         fetch(element.url, {method: 'GET'})\n    //         .then((response) => response.json())\n    //         .then((response) => {\n    //             console.log(response);\n    //             if (response.sprites.length <= 0) {\n    //                 f7.dialog.alert(\n    //                     \"Data from Pokeapi can't be processed\",\n    //                     WarningAlertTitle\n    //                 );\n    //                 console.error('error: sprites from pokeapi is not an array\\nsprites:', response.sprites);\n    //                 return;\n    //             }\n    //             if (!Array.isArray(response.moves) || response.moves.length <= 0) {\n    //                 f7.dialog.alert(\n    //                     \"Data from Pokeapi can't be processed\",\n    //                     WarningAlertTitle\n    //                 );\n    //                 console.error('error: moves from pokeapi is not an array\\nmoves:', response.moves);\n    //                 return;\n    //             }\n    //             if (!Array.isArray(response.types) || response.types.length <= 0) {\n    //                 f7.dialog.alert(\n    //                     \"Data from Pokeapi can't be processed\",\n    //                     WarningAlertTitle\n    //                 );\n    //                 console.error('error: types from pokeapi is not an array\\ntypes:', response.types);\n    //                 return;\n    //             }\n    //             const items = [];\n    //             items.push(\n    //                 <ListItem title={response.name} subtitle={response.id}>\n    //                     <img\n    //                         slot=\"media\"\n    //                         src={response.sprites.other.dream_world.front_default}\n    //                         width=\"44\"\n    //                         alt={`artwork of ${response.name}`}\n    //                     />\n    //                 </ListItem>\n    //             );\n    //             setPokemonList(items);\n    //             console.info('info: consume pokeapi success');\n    //         })\n    //         .catch(error => {\n    //             f7.dialog.alert(\n    //                 'Pokeapi error',\n    //                 WarningAlertTitle\n    //             );\n    //             console.error('error:', error);\n    //             return;\n    //         });\n    //     });\n    // }\n\n    useEffect(() => {\n        fetch('https://pokeapi.co/api/v2/pokemon?limit=2', {method: 'GET'})\n            .then((response) => response.json())\n            .then((response) => {\n                if (Array.isArray(response.results) && response.results.length > 0) {\n                    console.info('info: get results array from pokeapi');\n                    // getPokemonDetail(response.results);\n                    setPokeapiResults(response.results);\n                    return;\n                }\n                f7.dialog.alert(\n                    \"Data from Pokeapi can't be processed\",\n                    WarningAlertTitle\n                );\n                console.error('error: results from pokeapi is not an array');\n            })\n            .catch(error => {\n                f7.dialog.alert(\n                    'Pokeapi error',\n                    WarningAlertTitle\n                );\n                console.error('error:', error);\n            });\n    }, []);\n\n    useEffect(() => {\n        pokeapiResults.forEach(element => {\n            fetch(element.url, {method: 'GET'})\n            .then((response) => response.json())\n            .then((response) => {\n                console.log(response);\n                if (response.sprites.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    console.error('error: sprites from pokeapi is not an array\\nsprites:', response.sprites);\n                    return;\n                }\n                if (!Array.isArray(response.moves) || response.moves.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    console.error('error: moves from pokeapi is not an array\\nmoves:', response.moves);\n                    return;\n                }\n                if (!Array.isArray(response.types) || response.types.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    console.error('error: types from pokeapi is not an array\\ntypes:', response.types);\n                    return;\n                }\n                items.push(\n                    <ListItem title={response.name} subtitle={response.id}>\n                        <img\n                            slot=\"media\"\n                            src={response.sprites.other.dream_world.front_default}\n                            width=\"44\"\n                            alt={`artwork of ${response.name}`}\n                        />\n                    </ListItem>\n                );\n                console.info('info: consume pokeapi success');\n                return;\n            })\n            .catch(error => {\n                f7.dialog.alert(\n                    'Pokeapi error',\n                    WarningAlertTitle\n                );\n                console.error('error:', error);\n                return;\n            });\n        });\n    });\n\n    return (\n        <Page name=\"list\">\n            <Navbar title=\"Pokemon List\">\n                <Icon slot=\"right\" f7=\"poultry_leg\"></Icon>\n            </Navbar>\n            <BlockTitle>List</BlockTitle>\n            <List mediaList>{items}</List>\n        </Page>\n    )\n}\n\nexport default ListPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
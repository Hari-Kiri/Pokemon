{"ast":null,"code":"import _slicedToArray from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useEffect, useRef } from 'react';\nimport { f7 } from './f7.js';\nexport var useStore = function useStore() {\n  var assignedGetters = useRef({}); // (store, getter)\n\n  var store = arguments.length <= 0 ? undefined : arguments[0];\n  var getter = arguments.length <= 1 ? undefined : arguments[1];\n\n  if (arguments.length === 1) {\n    // (getter)\n    store = f7.store;\n    getter = arguments.length <= 0 ? undefined : arguments[0];\n  } // eslint-disable-next-line\n\n\n  var obj = store._gettersPlain[getter];\n\n  var _useState = useState(obj.value),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  function onUpdated(newValue) {\n    setValue(newValue);\n  }\n\n  if (!assignedGetters.current[getter]) {\n    obj.onUpdated(onUpdated);\n    assignedGetters.current[getter] = true;\n  }\n\n  useEffect(function () {\n    return function () {\n      // eslint-disable-next-line\n      store.__removeCallback(onUpdated);\n    };\n  }, []);\n  return value;\n};","map":{"version":3,"names":["useState","useEffect","useRef","f7","useStore","assignedGetters","store","arguments","length","undefined","getter","obj","_gettersPlain","value","setValue","onUpdated","newValue","current","__removeCallback"],"sources":["/root/Pokemon/ui/node_modules/framework7-react/shared/use-store.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { f7 } from './f7.js';\nexport const useStore = function () {\n  const assignedGetters = useRef({}); // (store, getter)\n\n  let store = arguments.length <= 0 ? undefined : arguments[0];\n  let getter = arguments.length <= 1 ? undefined : arguments[1];\n\n  if (arguments.length === 1) {\n    // (getter)\n    store = f7.store;\n    getter = arguments.length <= 0 ? undefined : arguments[0];\n  } // eslint-disable-next-line\n\n\n  const obj = store._gettersPlain[getter];\n  const [value, setValue] = useState(obj.value);\n\n  function onUpdated(newValue) {\n    setValue(newValue);\n  }\n\n  if (!assignedGetters.current[getter]) {\n    obj.onUpdated(onUpdated);\n    assignedGetters.current[getter] = true;\n  }\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line\n      store.__removeCallback(onUpdated);\n    };\n  }, []);\n  return value;\n};"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,SAASC,EAAT,QAAmB,SAAnB;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAY;EAClC,IAAMC,eAAe,GAAGH,MAAM,CAAC,EAAD,CAA9B,CADkC,CACE;;EAEpC,IAAII,KAAK,GAAGC,SAAS,CAACC,MAAV,IAAoB,CAApB,GAAwBC,SAAxB,GAAoCF,SAAS,CAAC,CAAD,CAAzD;EACA,IAAIG,MAAM,GAAGH,SAAS,CAACC,MAAV,IAAoB,CAApB,GAAwBC,SAAxB,GAAoCF,SAAS,CAAC,CAAD,CAA1D;;EAEA,IAAIA,SAAS,CAACC,MAAV,KAAqB,CAAzB,EAA4B;IAC1B;IACAF,KAAK,GAAGH,EAAE,CAACG,KAAX;IACAI,MAAM,GAAGH,SAAS,CAACC,MAAV,IAAoB,CAApB,GAAwBC,SAAxB,GAAoCF,SAAS,CAAC,CAAD,CAAtD;EACD,CAViC,CAUhC;;;EAGF,IAAMI,GAAG,GAAGL,KAAK,CAACM,aAAN,CAAoBF,MAApB,CAAZ;;EACA,gBAA0BV,QAAQ,CAACW,GAAG,CAACE,KAAL,CAAlC;EAAA;EAAA,IAAOA,KAAP;EAAA,IAAcC,QAAd;;EAEA,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;IAC3BF,QAAQ,CAACE,QAAD,CAAR;EACD;;EAED,IAAI,CAACX,eAAe,CAACY,OAAhB,CAAwBP,MAAxB,CAAL,EAAsC;IACpCC,GAAG,CAACI,SAAJ,CAAcA,SAAd;IACAV,eAAe,CAACY,OAAhB,CAAwBP,MAAxB,IAAkC,IAAlC;EACD;;EAEDT,SAAS,CAAC,YAAM;IACd,OAAO,YAAM;MACX;MACAK,KAAK,CAACY,gBAAN,CAAuBH,SAAvB;IACD,CAHD;EAID,CALQ,EAKN,EALM,CAAT;EAMA,OAAOF,KAAP;AACD,CAhCM"},"metadata":{},"sourceType":"module"}
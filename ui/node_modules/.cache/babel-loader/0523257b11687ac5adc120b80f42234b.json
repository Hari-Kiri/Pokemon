{"ast":null,"code":"import _toConsumableArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _this=this;import React,{useEffect,useState}from\"react\";import{f7,Page,Navbar,Link,BlockTitle,List,ListItem,SwipeoutActions,SwipeoutButton}from\"framework7-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SuccessAlertTitle='<i class=\"icon f7-icons color-green\" style=\"font-size: 35px;\">checkmark_alt</i>';var WarningAlertTitle='<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';var ErrorAlertTitle='<i class=\"icon f7-icons color-red\" style=\"font-size: 35px;\">xmark</i>';var MyPokemonPage=function MyPokemonPage(_ref){var myPokemonList=_ref.myPokemonList,f7router=_ref.f7router;var listOfPokemon=[];var _useState=useState(myPokemonList),_useState2=_slicedToArray(_useState,2),listOfCatchedPokemon=_useState2[0],setListOfCatchedPokemon=_useState2[1];var indexOfPokemon=listOfCatchedPokemon.map(function(element){return element.nickname;});listOfCatchedPokemon.forEach(function(element){listOfPokemon.push(/*#__PURE__*/_jsx(ListItem,{swipeout:true,title:element.nickname,subtitle:element.species,children:/*#__PURE__*/_jsx(SwipeoutActions,{right:true,children:/*#__PURE__*/_jsx(SwipeoutButton,{color:\"red\",onClick:function onClick(){f7.dialog.preloader(\"Releasing \".concat(element.nickname,\"...\"));fetch('/pokemon/release',{method:'GET'}).then(function(response){return response.json();}).then(function(response){f7.dialog.close();if(!response.response){f7.dialog.alert(\"\".concat(element.nickname,\" do not wanna go from You\"),WarningAlertTitle);console.info('info: release result',response.response);return;}f7.dialog.alert(\"You have \".concat(element.nickname,\" let go\"),SuccessAlertTitle,function(){var temporaryPokemonList=_toConsumableArray(listOfCatchedPokemon);temporaryPokemonList.splice(indexOfPokemon.indexOf(element.nickname),1);f7.swipeout.delete(_this);setListOfCatchedPokemon(temporaryPokemonList);});console.info('info: release result',response.response);}).catch(function(error){f7.dialog.alert('Pokeapi error',ErrorAlertTitle);console.error('error:',error);});},children:\"Release\"})})}));});useEffect(function(){console.info('info my pokemon page: all catched pokemon',listOfCatchedPokemon);},[listOfCatchedPokemon]);return/*#__PURE__*/_jsxs(Page,{name:\"mypokemon\",children:[/*#__PURE__*/_jsx(Navbar,{title:\"My Pokemon List\",children:/*#__PURE__*/_jsx(Link,{slot:\"left\",iconF7:\"arrowshape_turn_up_left_fill\",onClick:function onClick(){f7router.navigate('/list/',{props:{myPokemonList:listOfCatchedPokemon}});}})}),/*#__PURE__*/_jsx(BlockTitle,{children:\"Swipe to left for release button\"}),/*#__PURE__*/_jsx(List,{children:listOfPokemon})]});};export default MyPokemonPage;","map":{"version":3,"names":["React","useEffect","useState","f7","Page","Navbar","Link","BlockTitle","List","ListItem","SwipeoutActions","SwipeoutButton","SuccessAlertTitle","WarningAlertTitle","ErrorAlertTitle","MyPokemonPage","myPokemonList","f7router","listOfPokemon","listOfCatchedPokemon","setListOfCatchedPokemon","indexOfPokemon","map","element","nickname","forEach","push","species","dialog","preloader","fetch","method","then","response","json","close","alert","console","info","temporaryPokemonList","splice","indexOf","swipeout","delete","catch","error","navigate","props"],"sources":["/root/Pokemon/ui/src/MyPokemonPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { \n    f7,\n    Page,\n    Navbar,\n    Link,\n    BlockTitle,\n    List,\n    ListItem,\n    SwipeoutActions,\n    SwipeoutButton\n} from \"framework7-react\";\n\nconst SuccessAlertTitle = '<i class=\"icon f7-icons color-green\" style=\"font-size: 35px;\">checkmark_alt</i>';\nconst WarningAlertTitle = '<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';\nconst ErrorAlertTitle = '<i class=\"icon f7-icons color-red\" style=\"font-size: 35px;\">xmark</i>';\n\nconst MyPokemonPage = ({ myPokemonList, f7router }) => {\n    const listOfPokemon = [];\n    const [listOfCatchedPokemon, setListOfCatchedPokemon] = useState(myPokemonList);\n    const indexOfPokemon = listOfCatchedPokemon.map(element => element.nickname);\n\n    listOfCatchedPokemon.forEach(element => {\n        listOfPokemon.push(\n            <ListItem swipeout title={element.nickname} subtitle={element.species}>\n                <SwipeoutActions right>\n                    <SwipeoutButton color=\"red\" onClick={() => {\n                        f7.dialog.preloader(`Releasing ${element.nickname}...`);\n                        fetch('/pokemon/release', {method: 'GET'})\n                        .then((response) => response.json())\n                        .then((response) => {\n                            f7.dialog.close()\n                            if (!response.response) {\n                                f7.dialog.alert(`${element.nickname} do not wanna go from You`, WarningAlertTitle);\n                                console.info('info: release result', response.response);\n                                return;\n                            }\n                            f7.dialog.alert(`You have ${element.nickname} let go`, SuccessAlertTitle, () => {\n                                let temporaryPokemonList = [...listOfCatchedPokemon];\n                                temporaryPokemonList.splice(indexOfPokemon.indexOf(element.nickname), 1);\n                                f7.swipeout.delete(this);\n                                setListOfCatchedPokemon(temporaryPokemonList);\n                            });\n                            console.info('info: release result', response.response);\n                        })\n                        .catch(error => {\n                            f7.dialog.alert('Pokeapi error', ErrorAlertTitle);\n                            console.error('error:', error);\n                        });\n                    }}>\n                        Release\n                    </SwipeoutButton>\n                </SwipeoutActions>\n            </ListItem>\n        );\n    });\n\n    useEffect(() => {\n        console.info('info my pokemon page: all catched pokemon', listOfCatchedPokemon)\n    }, [listOfCatchedPokemon]);\n\n    return (\n        <Page name=\"mypokemon\">\n            <Navbar title=\"My Pokemon List\">\n                <Link slot=\"left\" iconF7=\"arrowshape_turn_up_left_fill\" onClick={() => {\n                    f7router.navigate('/list/', {\n                        props: {\n                            myPokemonList: listOfCatchedPokemon\n                        }\n                    });\n                }}></Link>\n            </Navbar>\n            <BlockTitle>Swipe to left for release button</BlockTitle>\n            <List>{listOfPokemon}</List>\n        </Page>\n    )\n}\n\nexport default MyPokemonPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
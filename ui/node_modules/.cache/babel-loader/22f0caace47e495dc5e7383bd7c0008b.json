{"ast":null,"code":"import _objectSpread from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{f7,Page,Navbar,Icon,List,ListItem,theme,Subnavbar,Searchbar}from'framework7-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WarningAlertTitle='<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';var ListPage=function ListPage(){var items=[];items.push({title:'Yellow Submarine',after:'$15',subtitle:'Beatles',text:'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sagittis tellus ut turpis condimentum, ut dignissim lacus tincidunt. Cras dolor metus, ultrices condimentum sodales sit amet, pharetra sodales eros. Phasellus vel felis tellus. Mauris rutrum ligula nec dapibus feugiat. In vel dui laoreet, commodo augue id, pulvinar lacus.',slot:'media',src:'https://cdn.framework7.io/placeholder/people-160x160-1.jpg',width:'80',alt:'Yellow Submarine image'},{title:\"Don't Stop Me Now\",after:'$22',subtitle:'Queen',text:'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sagittis tellus ut turpis condimentum, ut dignissim lacus tincidunt. Cras dolor metus, ultrices condimentum sodales sit amet, pharetra sodales eros. Phasellus vel felis tellus. Mauris rutrum ligula nec dapibus feugiat. In vel dui laoreet, commodo augue id, pulvinar lacus.',slot:'media',src:'https://cdn.framework7.io/placeholder/people-160x160-2.jpg',width:'80',alt:\"Don't Stop Me Now image\"});var _useState=useState({items:[]}),_useState2=_slicedToArray(_useState,2),vlData=_useState2[0],setVlData=_useState2[1];var searchAll=function searchAll(query,searchItems){var found=[];for(var i=0;i<searchItems.length;i+=1){if(searchItems[i].title.toLowerCase().indexOf(query.toLowerCase())>=0||query.trim()==='')found.push(i);}return found;// return array with mathced indexes\n};var renderExternal=function renderExternal(vl,newData){setVlData(_objectSpread({},newData));};useEffect(function(){var requestOptions={method:'GET'};fetch('https://pokeapi.co/api/v2/pokemon?limit=1126',requestOptions).then(function(response){return response.json();}).then(function(response){console.log(response);if(Array.isArray(response.result)&&!response.result.length){console.log('pokeapi success');f7.dialog.close();return;}f7.dialog.close();f7.dialog.alert('Pokemon database error',WarningAlertTitle);console.error('pokeapi error');});},[]);return/*#__PURE__*/_jsxs(Page,{name:\"list\",children:[/*#__PURE__*/_jsxs(Navbar,{title:\"Pokemon List\",children:[/*#__PURE__*/_jsx(Icon,{slot:\"right\",f7:\"poultry_leg\"}),/*#__PURE__*/_jsx(Subnavbar,{inner:false,children:/*#__PURE__*/_jsx(Searchbar,{searchContainer:\".virtual-list\",searchItem:\"li\",searchIn:\".item-title\",disableButton:!theme.aurora})})]}),/*#__PURE__*/_jsx(List,{className:\"searchbar-not-found\",children:/*#__PURE__*/_jsx(ListItem,{title:\"Nothing found\"})}),/*#__PURE__*/_jsx(List,{className:\"searchbar-found\",medialList:true,virtualList:true,virtualListParams:{items:items,searchAll:searchAll,renderExternal:renderExternal,height:theme.ios?63:theme.md?73:77},children:vlData.items.map(function(item,index){return/*#__PURE__*/_jsx(ListItem,{mediaItem:true,link:\"#\",title:item.title,after:item.after,subtitle:item.subtitle,text:item.text,style:{top:\"\".concat(vlData.topPosition,\"px\")},virtualListIndex:items.indexOf(item),children:/*#__PURE__*/_jsx(\"img\",{slot:item.slot,src:item.src,width:item.width,alt:item.alt})},index);})})]});};export default ListPage;","map":{"version":3,"names":["React","useState","useEffect","f7","Page","Navbar","Icon","List","ListItem","theme","Subnavbar","Searchbar","WarningAlertTitle","ListPage","items","push","title","after","subtitle","text","slot","src","width","alt","vlData","setVlData","searchAll","query","searchItems","found","i","length","toLowerCase","indexOf","trim","renderExternal","vl","newData","requestOptions","method","fetch","then","response","json","console","log","Array","isArray","result","dialog","close","alert","error","aurora","height","ios","md","map","item","index","top","topPosition"],"sources":["/root/Pokemon/ui/src/ListPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n    f7,\n    Page, \n    Navbar, \n    Icon,\n    List,\n    ListItem,\n    theme,\n    Subnavbar,\n    Searchbar\n} from 'framework7-react';\n\nconst WarningAlertTitle = '<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';\n\nconst ListPage = () => {\n    const items = [];\n    items.push(\n        {\n            title: 'Yellow Submarine',\n            after: '$15',\n            subtitle: 'Beatles',\n            text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sagittis tellus ut turpis condimentum, ut dignissim lacus tincidunt. Cras dolor metus, ultrices condimentum sodales sit amet, pharetra sodales eros. Phasellus vel felis tellus. Mauris rutrum ligula nec dapibus feugiat. In vel dui laoreet, commodo augue id, pulvinar lacus.',\n            slot: 'media',\n            src: 'https://cdn.framework7.io/placeholder/people-160x160-1.jpg',\n            width: '80',\n            alt: 'Yellow Submarine image'\n        },\n        {\n            title: \"Don't Stop Me Now\",\n            after: '$22',\n            subtitle: 'Queen',\n            text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sagittis tellus ut turpis condimentum, ut dignissim lacus tincidunt. Cras dolor metus, ultrices condimentum sodales sit amet, pharetra sodales eros. Phasellus vel felis tellus. Mauris rutrum ligula nec dapibus feugiat. In vel dui laoreet, commodo augue id, pulvinar lacus.',\n            slot: 'media',\n            src: 'https://cdn.framework7.io/placeholder/people-160x160-2.jpg',\n            width: '80',\n            alt: \"Don't Stop Me Now image\"\n        },\n    );\n\n    const [vlData, setVlData] = useState({ \n        items: [],\n    });\n\n    const searchAll = (query, searchItems) => {\n        const found = [];\n        for (let i = 0; i < searchItems.length; i += 1) {\n            if (\n                searchItems[i].title.toLowerCase().indexOf(query.toLowerCase()) >= 0 ||\n                query.trim() === ''\n            )\n            found.push(i);\n        }\n        return found; // return array with mathced indexes\n    };\n\n    const renderExternal = (vl, newData) => {\n        setVlData({ ...newData });\n    };\n\n    useEffect(() => {\n        const requestOptions = {\n            method: 'GET'\n        };\n        \n        fetch('https://pokeapi.co/api/v2/pokemon?limit=1126', requestOptions)\n            .then((response) => response.json())\n            .then((response) => {\n                console.log(response);\n                if (Array.isArray(response.result) && !response.result.length) {\n                    console.log('pokeapi success');\n                    f7.dialog.close();\n                    return;\n                }\n                f7.dialog.close();\n                f7.dialog.alert(\n                    'Pokemon database error',\n                    WarningAlertTitle\n                );\n                console.error('pokeapi error');\n            });\n    }, []);\n\n    return (\n        <Page name=\"list\">\n            <Navbar title=\"Pokemon List\">\n                <Icon slot=\"right\" f7=\"poultry_leg\"></Icon>\n                <Subnavbar inner={false}>\n                    <Searchbar\n                        searchContainer=\".virtual-list\"\n                        searchItem=\"li\"\n                        searchIn=\".item-title\"\n                        disableButton={!theme.aurora}\n                    />\n                </Subnavbar>\n            </Navbar>\n            <List className=\"searchbar-not-found\">\n                <ListItem title=\"Nothing found\" />\n            </List>\n            <List\n                className=\"searchbar-found\"\n                medialList\n                virtualList\n                virtualListParams={{\n                    items,\n                    searchAll,\n                    renderExternal,\n                    height: theme.ios ? 63 : theme.md ? 73 : 77,\n                }}\n            >\n                {vlData.items.map((item, index) => (\n                    <ListItem\n                        key={index}\n                        mediaItem\n                        link=\"#\"\n                        title={item.title}\n                        after={item.after}\n                        subtitle={item.subtitle}\n                        text={item.text}\n                        style={{ top: `${vlData.topPosition}px` }}\n                        virtualListIndex={items.indexOf(item)}\n                    >\n                        <img\n                            slot={item.slot}\n                            src={item.src}\n                            width={item.width}\n                            alt={item.alt}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </Page>\n    )\n}\n\nexport default ListPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
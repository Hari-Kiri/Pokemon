{"ast":null,"code":"import _toConsumableArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{f7,Page,Navbar,List,ListItem,Preloader,NavRight,Link,Searchbar,theme}from'framework7-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WarningAlertTitle='<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';var ListPage=function ListPage(){var listItem=[];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];var _useState3=useState(50),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pokemonList=_useState6[0],setPokemonList=_useState6[1];var _useState7=useState(/*#__PURE__*/_jsx(Preloader,{color:\"green\"})),_useState8=_slicedToArray(_useState7,2),bottom=_useState8[0],setBottom=_useState8[1];var getPokemonDetail=function getPokemonDetail(pokeapiResultsArray){pokeapiResultsArray.forEach(function(element){fetch(element.url,{method:'GET'}).then(function(response){return response.json();}).then(function(response){if(response.sprites.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Data from Pokeapi can't be processed\"}));console.error('error: sprites from pokeapi is not an array\\nsprites:',response.sprites);return;}if(!Array.isArray(response.moves)||response.moves.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Data from Pokeapi can't be processed\"}));console.error('error: moves from pokeapi is not an array\\nmoves:',response.moves);return;}if(!Array.isArray(response.types)||response.types.length<=0){f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Data from Pokeapi can't be processed\"}));console.error('error: types from pokeapi is not an array\\ntypes:',response.types);return;}setPokemonList(function(state){return[].concat(_toConsumableArray(state),[{title:response.name,subtitle:response.id,slot:'media',src:response.sprites.other.dream_world.front_default,width:'44',alt:\"artwork of \".concat(response.name)}]);});}).catch(function(error){f7.dialog.alert('Pokeapi error',WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Pokeapi error\"}));console.error('error:',error);return;});});};useEffect(function(){fetch(\"https://pokeapi.co/api/v2/pokemon?offset=\".concat(offset,\"&limit=\").concat(limit),{method:'GET'}).then(function(response){return response.json();}).then(function(response){if(Array.isArray(response.results)&&response.results.length>0){console.info('info: get results array from pokeapi');getPokemonDetail(response.results);return;}f7.dialog.alert(\"Data from Pokeapi can't be processed\",WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Data from Pokeapi can't be processed\"}));console.error('error: results from pokeapi is not an array');}).catch(function(error){f7.dialog.alert('Pokeapi error',WarningAlertTitle);setBottom(/*#__PURE__*/_jsx(\"p\",{children:\"Pokeapi error\"}));console.error('error:',error);});},[offset,limit]);pokemonList.forEach(function(element){console.info('render new pokemon:',element.title);listItem.push(/*#__PURE__*/_jsx(ListItem,{title:element.title.charAt(0).toUpperCase()+element.title.slice(1),subtitle:\"#\".concat(element.subtitle),children:/*#__PURE__*/_jsx(\"img\",{slot:\"media\",src:element.src,width:\"44\",alt:\"artwork of \".concat(element.title)})}));});return/*#__PURE__*/_jsxs(Page,{name:\"list\",children:[/*#__PURE__*/_jsxs(Navbar,{title:\"Pokemon List\",children:[/*#__PURE__*/_jsx(NavRight,{children:/*#__PURE__*/_jsx(Link,{searchbarEnable:\".searchbar-pokemon-list\",iconIos:\"f7:search\",iconAurora:\"f7:search\",iconMd:\"material:search\"})}),/*#__PURE__*/_jsx(Searchbar,{className:\"searchbar-pokemon-list\",expandable:true,searchContainer:\".pokemon-list\",searchIn:\".item-title, .item-subtitle\",disableButton:!theme.aurora})]}),/*#__PURE__*/_jsx(List,{className:\"searchbar-not-found\",children:/*#__PURE__*/_jsx(ListItem,{title:\"Pokemon not found\"})}),/*#__PURE__*/_jsx(List,{className:\"pokemon-list searchbar-found\",mediaList:true,children:listItem}),/*#__PURE__*/_jsx(\"div\",{className:\"text-align-center\",children:bottom})]});};export default ListPage;","map":{"version":3,"names":["React","useState","useEffect","f7","Page","Navbar","List","ListItem","Preloader","NavRight","Link","Searchbar","theme","WarningAlertTitle","ListPage","listItem","offset","setOffset","limit","setLimit","pokemonList","setPokemonList","bottom","setBottom","getPokemonDetail","pokeapiResultsArray","forEach","element","fetch","url","method","then","response","json","sprites","length","dialog","alert","console","error","Array","isArray","moves","types","state","title","name","subtitle","id","slot","src","other","dream_world","front_default","width","alt","catch","results","info","push","charAt","toUpperCase","slice","aurora"],"sources":["/root/Pokemon/ui/src/ListPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n    f7,\n    Page,\n    Navbar,\n    List,\n    ListItem,\n    Preloader,\n    NavRight,\n    Link,\n    Searchbar,\n    theme\n} from 'framework7-react';\n\nconst WarningAlertTitle = '<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';\n\nconst ListPage = () => {\n    const listItem = [];\n    const [offset, setOffset] = useState(0);\n    const [limit, setLimit] = useState(50)\n    const [pokemonList, setPokemonList] = useState([]);\n    const [bottom, setBottom] = useState(<Preloader color=\"green\" />);\n\n    const getPokemonDetail = (pokeapiResultsArray) => {\n        pokeapiResultsArray.forEach(element => {\n            fetch(element.url, {method: 'GET'})\n            .then((response) => response.json())\n            .then((response) => {\n                if (response.sprites.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    setBottom(<p>Data from Pokeapi can't be processed</p>);\n                    console.error('error: sprites from pokeapi is not an array\\nsprites:', response.sprites);\n                    return;\n                }\n                if (!Array.isArray(response.moves) || response.moves.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    setBottom(<p>Data from Pokeapi can't be processed</p>);\n                    console.error('error: moves from pokeapi is not an array\\nmoves:', response.moves);\n                    return;\n                }\n                if (!Array.isArray(response.types) || response.types.length <= 0) {\n                    f7.dialog.alert(\n                        \"Data from Pokeapi can't be processed\",\n                        WarningAlertTitle\n                    );\n                    setBottom(<p>Data from Pokeapi can't be processed</p>);\n                    console.error('error: types from pokeapi is not an array\\ntypes:', response.types);\n                    return;\n                }\n                setPokemonList(state => [\n                    ...state,\n                    {\n                        title: response.name,\n                        subtitle: response.id,\n                        slot: 'media',\n                        src: response.sprites.other.dream_world.front_default,\n                        width: '44',\n                        alt: `artwork of ${response.name}`,\n                    }\n                ]);\n            })\n            .catch(error => {\n                f7.dialog.alert(\n                    'Pokeapi error',\n                    WarningAlertTitle\n                );\n                setBottom(<p>Pokeapi error</p>);\n                console.error('error:', error);\n                return;\n            });\n        });\n    }\n\n    useEffect(() => {\n        fetch(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=${limit}`, {method: 'GET'})\n            .then((response) => response.json())\n            .then((response) => {\n                if (Array.isArray(response.results) && response.results.length > 0) {\n                    console.info('info: get results array from pokeapi');\n                    getPokemonDetail(response.results);\n                    return;\n                }\n                f7.dialog.alert(\n                    \"Data from Pokeapi can't be processed\",\n                    WarningAlertTitle\n                );\n                setBottom(<p>Data from Pokeapi can't be processed</p>);\n                console.error('error: results from pokeapi is not an array');\n            })\n            .catch(error => {\n                f7.dialog.alert(\n                    'Pokeapi error',\n                    WarningAlertTitle\n                );\n                setBottom(<p>Pokeapi error</p>);\n                console.error('error:', error);\n            });\n    }, [offset, limit]);\n\n    pokemonList.forEach(element => {\n        console.info('render new pokemon:', element.title);\n        listItem.push(\n            <ListItem title={element.title.charAt(0).toUpperCase() + element.title.slice(1)} \n                subtitle={`#${element.subtitle}`}>\n                <img\n                    slot=\"media\"\n                    src={element.src}\n                    width=\"44\"\n                    alt={`artwork of ${element.title}`}\n                />\n            </ListItem>\n        );\n    });\n\n    return (\n        <Page name=\"list\">\n            <Navbar title=\"Pokemon List\">\n                <NavRight>\n                    <Link\n                        searchbarEnable=\".searchbar-pokemon-list\"\n                        iconIos=\"f7:search\"\n                        iconAurora=\"f7:search\"\n                        iconMd=\"material:search\"\n                    ></Link>\n                </NavRight>\n                <Searchbar\n                    className=\"searchbar-pokemon-list\"\n                    expandable\n                    searchContainer=\".pokemon-list\"\n                    searchIn=\".item-title, .item-subtitle\"\n                    disableButton={!theme.aurora}\n                ></Searchbar>\n            </Navbar>\n            <List className=\"searchbar-not-found\">\n                <ListItem title=\"Pokemon not found\"></ListItem>\n            </List>\n            <List className=\"pokemon-list searchbar-found\" mediaList>{listItem}</List>\n            <div className=\"text-align-center\">{bottom}</div>\n        </Page>\n    )\n}\n\nexport default ListPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
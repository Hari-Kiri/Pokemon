{"ast":null,"code":"import _toConsumableArray from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useRef, useImperativeHandle, useState, useEffect } from 'react';\nimport { classNames, getExtraAttrs, emit } from '../shared/utils.js';\nimport { f7 } from '../shared/f7.js';\nvar AreaChart = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n      id = props.id,\n      style = props.style,\n      _props$lineChart = props.lineChart,\n      lineChart = _props$lineChart === void 0 ? false : _props$lineChart,\n      _props$datasets = props.datasets,\n      datasets = _props$datasets === void 0 ? [] : _props$datasets,\n      _props$axis = props.axis,\n      axis = _props$axis === void 0 ? false : _props$axis,\n      _props$axisLabels = props.axisLabels,\n      axisLabels = _props$axisLabels === void 0 ? [] : _props$axisLabels,\n      _props$tooltip = props.tooltip,\n      tooltip = _props$tooltip === void 0 ? false : _props$tooltip,\n      _props$legend = props.legend,\n      legend = _props$legend === void 0 ? false : _props$legend,\n      _props$toggleDatasets = props.toggleDatasets,\n      toggleDatasets = _props$toggleDatasets === void 0 ? false : _props$toggleDatasets,\n      _props$width = props.width,\n      width = _props$width === void 0 ? 640 : _props$width,\n      _props$height = props.height,\n      height = _props$height === void 0 ? 320 : _props$height,\n      _props$maxAxisLabels = props.maxAxisLabels,\n      maxAxisLabels = _props$maxAxisLabels === void 0 ? 8 : _props$maxAxisLabels,\n      formatAxisLabelProp = props.formatAxisLabel,\n      formatLegendLabelProp = props.formatLegendLabel,\n      formatTooltipProp = props.formatTooltip,\n      formatTooltipAxisLabel = props.formatTooltipAxisLabel,\n      formatTooltipTotal = props.formatTooltipTotal,\n      formatTooltipDataset = props.formatTooltipDataset,\n      children = props.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n\n  var previousIndex = useRef(null);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hiddenDatasets = _useState4[0],\n      setHiddenDatasets = _useState4[1];\n\n  var extraAttrs = getExtraAttrs(props);\n  var elRef = useRef(null);\n  var svgElRef = useRef(null);\n  var f7Tooltip = useRef(null);\n  var linesOffsets = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      el: elRef.current\n    };\n  });\n\n  var getVisibleLegends = function getVisibleLegends() {\n    if (!maxAxisLabels || axisLabels.length <= maxAxisLabels) return axisLabels;\n    var skipStep = Math.ceil(axisLabels.length / maxAxisLabels);\n    var filtered = axisLabels.filter(function (label, index) {\n      return index % skipStep === 0;\n    });\n    return filtered;\n  };\n\n  var getSummValues = function getSummValues() {\n    var summValues = [];\n    datasets.filter(function (dataset, index) {\n      return !hiddenDatasets.includes(index);\n    }).forEach(function (_ref) {\n      var values = _ref.values;\n      values.forEach(function (value, valueIndex) {\n        if (!summValues[valueIndex]) summValues[valueIndex] = 0;\n        summValues[valueIndex] += value;\n      });\n    });\n    return summValues;\n  };\n\n  var getChartData = function getChartData() {\n    var data = [];\n\n    if (!datasets.length) {\n      return data;\n    }\n\n    var lastValues = datasets[0].values.map(function () {\n      return 0;\n    });\n    var maxValue = 0;\n\n    if (lineChart) {\n      datasets.forEach(function (_ref2) {\n        var values = _ref2.values;\n        var datasetMaxValue = Math.max.apply(Math, _toConsumableArray(values));\n        if (datasetMaxValue > maxValue) maxValue = datasetMaxValue;\n      });\n    } else {\n      maxValue = Math.max.apply(Math, _toConsumableArray(getSummValues()));\n    }\n\n    datasets.filter(function (dataset, index) {\n      return !hiddenDatasets.includes(index);\n    }).forEach(function (_ref3) {\n      var label = _ref3.label,\n          values = _ref3.values,\n          color = _ref3.color;\n      var points = values.map(function (originalValue, valueIndex) {\n        lastValues[valueIndex] += originalValue;\n        var value = lineChart ? originalValue : lastValues[valueIndex];\n        var x = valueIndex / (values.length - 1) * width;\n        var y = height - value / maxValue * height;\n\n        if (lineChart) {\n          return \"\".concat(valueIndex === 0 ? 'M' : 'L').concat(x, \",\").concat(y);\n        }\n\n        return \"\".concat(x, \" \").concat(y);\n      });\n\n      if (!lineChart) {\n        points.push(\"\".concat(width, \" \").concat(height, \" 0 \").concat(height));\n      }\n\n      data.push({\n        label: label,\n        points: points.join(' '),\n        color: color\n      });\n    });\n    return data.reverse();\n  };\n\n  var getVerticalLines = function getVerticalLines() {\n    var lines = [];\n\n    if (!datasets.length) {\n      return lines;\n    }\n\n    var values = datasets[0].values;\n    values.forEach(function (value, valueIndex) {\n      var x = valueIndex / (values.length - 1) * width;\n      lines.push(x);\n    });\n    return lines;\n  };\n\n  var toggleDataset = function toggleDataset(index) {\n    if (!toggleDatasets) return;\n\n    if (hiddenDatasets.includes(index)) {\n      hiddenDatasets.splice(hiddenDatasets.indexOf(index), 1);\n    } else {\n      hiddenDatasets.push(index);\n    }\n\n    setHiddenDatasets(_toConsumableArray(hiddenDatasets));\n  };\n\n  var formatAxisLabel = function formatAxisLabel(label) {\n    if (formatAxisLabelProp) return formatAxisLabelProp(label);\n    return label;\n  };\n\n  var formatLegendLabel = function formatLegendLabel(label) {\n    if (formatLegendLabelProp) return formatLegendLabelProp(label);\n    return label;\n  };\n\n  var calcLinesOffsets = function calcLinesOffsets() {\n    var lines = svgElRef.current.querySelectorAll('line');\n    linesOffsets.current = [];\n\n    for (var i = 0; i < lines.length; i += 1) {\n      linesOffsets.current.push(lines[i].getBoundingClientRect().left);\n    }\n  };\n\n  var formatTooltip = function formatTooltip() {\n    if (currentIndex === null) return '';\n    var total = 0;\n    var currentValues = datasets.filter(function (dataset, index) {\n      return !hiddenDatasets.includes(index);\n    }).map(function (dataset) {\n      return {\n        color: dataset.color,\n        label: dataset.label,\n        value: dataset.values[currentIndex]\n      };\n    });\n    currentValues.forEach(function (dataset) {\n      total += dataset.value;\n    });\n\n    if (formatTooltipProp) {\n      return formatTooltipProp({\n        index: currentIndex,\n        total: total,\n        datasets: currentValues\n      });\n    }\n\n    var labelText = formatTooltipAxisLabel ? formatTooltipAxisLabel(axisLabels[currentIndex]) : formatAxisLabel(axisLabels[currentIndex]);\n    if (!labelText) labelText = '';\n    var totalText = formatTooltipTotal ? formatTooltipTotal(total) : total; // prettier-ignore\n\n    var datasetsText = currentValues.length > 0 ? \"\\n      <ul class=\\\"area-chart-tooltip-list\\\">\\n        \".concat(currentValues.map(function (_ref4) {\n      var label = _ref4.label,\n          color = _ref4.color,\n          value = _ref4.value;\n      var valueText = formatTooltipDataset ? formatTooltipDataset(label, value, color) : \"\".concat(label, \": \").concat(value);\n      return \"\\n              <li><span style=\\\"background-color: \".concat(color, \";\\\"></span>\").concat(valueText, \"</li>\\n            \");\n    }).join(''), \"\\n      </ul>\") : ''; // prettier-ignore\n\n    return \"\\n      <div class=\\\"area-chart-tooltip-label\\\">\".concat(labelText, \"</div>\\n      <div class=\\\"area-chart-tooltip-total\\\">\").concat(totalText, \"</div>\\n      \").concat(datasetsText, \"\\n    \");\n  };\n\n  var setTooltip = function setTooltip() {\n    if (!tooltip) return;\n    var hasVisibleDataSets = datasets.filter(function (dataset, index) {\n      return !hiddenDatasets.includes(index);\n    }).length > 0;\n\n    if (!hasVisibleDataSets) {\n      if (f7Tooltip.current && f7Tooltip.current.hide) f7Tooltip.current.hide();\n      return;\n    }\n\n    if (currentIndex !== null && !f7Tooltip.current) {\n      f7Tooltip.current = f7.tooltip.create({\n        trigger: 'manual',\n        containerEl: elRef.current,\n        targetEl: svgElRef.current.querySelector(\"line[data-index=\\\"\".concat(currentIndex, \"\\\"]\")),\n        text: formatTooltip(),\n        cssClass: 'area-chart-tooltip'\n      });\n\n      if (f7Tooltip.current && f7Tooltip.current.show) {\n        f7Tooltip.current.show();\n      }\n\n      return;\n    }\n\n    if (!f7Tooltip.current || !f7Tooltip.current.hide || !f7Tooltip.current.show) {\n      return;\n    }\n\n    if (currentIndex !== null) {\n      f7Tooltip.current.setText(formatTooltip());\n      f7Tooltip.current.setTargetEl(svgElRef.current.querySelector(\"line[data-index=\\\"\".concat(currentIndex, \"\\\"]\")));\n      f7Tooltip.current.show();\n    } else {\n      f7Tooltip.current.hide();\n    }\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    calcLinesOffsets();\n  };\n\n  var onMouseMove = function onMouseMove(e) {\n    if (!linesOffsets.current) {\n      calcLinesOffsets();\n    }\n\n    var currentLeft = e.pageX;\n    if (typeof currentLeft === 'undefined') currentLeft = 0;\n    var distances = linesOffsets.current.map(function (left) {\n      return Math.abs(currentLeft - left);\n    });\n    var minDistance = Math.min.apply(Math, _toConsumableArray(distances));\n    var closestIndex = distances.indexOf(minDistance);\n    setCurrentIndex(closestIndex);\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    setCurrentIndex(null);\n  };\n\n  var attachEvents = function attachEvents() {\n    if (!svgElRef.current) return;\n    svgElRef.current.addEventListener('mouseenter', onMouseEnter);\n    svgElRef.current.addEventListener('mousemove', onMouseMove);\n    svgElRef.current.addEventListener('mouseleave', onMouseLeave);\n  };\n\n  var detachEvents = function detachEvents() {\n    if (!svgElRef.current) return;\n    svgElRef.current.removeEventListener('mouseenter', onMouseEnter);\n    svgElRef.current.removeEventListener('mousemove', onMouseMove);\n    svgElRef.current.removeEventListener('mouseleave', onMouseLeave);\n  };\n\n  useEffect(function () {\n    if (previousIndex.current === currentIndex) return;\n    previousIndex.current = currentIndex;\n    emit(props, 'select', currentIndex);\n    setTooltip();\n  }, [currentIndex]);\n  useEffect(function () {\n    attachEvents();\n    return detachEvents;\n  });\n  useEffect(function () {\n    return function () {\n      if (f7Tooltip.current && f7Tooltip.current.destroy) {\n        f7Tooltip.current.destroy();\n      }\n\n      f7Tooltip.current = null;\n    };\n  }, []);\n  var classes = classNames('area-chart', className);\n  var chartData = getChartData();\n  var verticalLines = getVerticalLines();\n  var visibleLegends = getVisibleLegends();\n  var LegendItemTag = toggleDatasets ? 'button' : 'span';\n  var ChartTag = lineChart ? 'path' : 'polygon';\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    id: id,\n    style: style,\n    className: classes,\n    ref: elRef\n  }, extraAttrs), /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: width,\n    height: height,\n    viewBox: \"0 0 \".concat(width, \" \").concat(height),\n    preserveAspectRatio: \"none\",\n    ref: svgElRef\n  }, chartData.map(function (data, index) {\n    return /*#__PURE__*/React.createElement(ChartTag, {\n      key: \"\".concat(ChartTag, \"-\").concat(index),\n      fill: lineChart ? undefined : data.color,\n      stroke: lineChart ? data.color : undefined,\n      fillRule: \"evenodd\",\n      points: lineChart ? undefined : data.points,\n      d: lineChart ? data.points : undefined\n    });\n  }), verticalLines.map(function (line, index) {\n    return /*#__PURE__*/React.createElement(\"line\", {\n      key: \"line-\".concat(index),\n      \"data-index\": index,\n      fill: \"#000\",\n      x1: line,\n      y1: 0,\n      x2: line,\n      y2: height,\n      className: classNames({\n        'area-chart-current-line': currentIndex === index\n      })\n    });\n  })), axis && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area-chart-axis\"\n  }, axisLabels.map(function (label, index) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: index\n    }, visibleLegends.includes(label) && /*#__PURE__*/React.createElement(\"span\", null, formatAxisLabel(label)));\n  })), legend && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area-chart-legend\"\n  }, datasets.map(function (dataset, index) {\n    return /*#__PURE__*/React.createElement(LegendItemTag, {\n      key: index,\n      className: classNames('area-chart-legend-item', {\n        'area-chart-legend-item-hidden': hiddenDatasets.includes(index),\n        'area-chart-legend-button': toggleDatasets\n      }),\n      type: toggleDatasets ? 'button' : undefined,\n      onClick: function onClick() {\n        return toggleDataset(index);\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        backgroundColor: dataset.color\n      }\n    }), formatLegendLabel(dataset.label));\n  })), children);\n});\nAreaChart.displayName = 'f7-area-chart';\nexport default AreaChart;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","forwardRef","useRef","useImperativeHandle","useState","useEffect","classNames","getExtraAttrs","emit","f7","AreaChart","props","ref","className","id","style","lineChart","datasets","axis","axisLabels","tooltip","legend","toggleDatasets","width","height","maxAxisLabels","formatAxisLabelProp","formatAxisLabel","formatLegendLabelProp","formatLegendLabel","formatTooltipProp","formatTooltip","formatTooltipAxisLabel","formatTooltipTotal","formatTooltipDataset","children","currentIndex","setCurrentIndex","previousIndex","hiddenDatasets","setHiddenDatasets","extraAttrs","elRef","svgElRef","f7Tooltip","linesOffsets","el","current","getVisibleLegends","skipStep","Math","ceil","filtered","filter","label","index","getSummValues","summValues","dataset","includes","forEach","_ref","values","value","valueIndex","getChartData","data","lastValues","map","maxValue","_ref2","datasetMaxValue","max","_ref3","color","points","originalValue","x","y","push","join","reverse","getVerticalLines","lines","toggleDataset","splice","indexOf","calcLinesOffsets","querySelectorAll","getBoundingClientRect","left","total","currentValues","labelText","totalText","datasetsText","_ref4","valueText","setTooltip","hasVisibleDataSets","hide","create","trigger","containerEl","targetEl","querySelector","text","cssClass","show","setText","setTargetEl","onMouseEnter","onMouseMove","e","currentLeft","pageX","distances","abs","minDistance","min","closestIndex","onMouseLeave","attachEvents","addEventListener","detachEvents","removeEventListener","destroy","classes","chartData","verticalLines","visibleLegends","LegendItemTag","ChartTag","createElement","xmlns","viewBox","preserveAspectRatio","fill","undefined","stroke","fillRule","d","line","x1","y1","x2","y2","type","onClick","backgroundColor","displayName"],"sources":["/root/Pokemon/ui/node_modules/framework7-react/components/area-chart.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, useRef, useImperativeHandle, useState, useEffect } from 'react';\nimport { classNames, getExtraAttrs, emit } from '../shared/utils.js';\nimport { f7 } from '../shared/f7.js';\n\nconst AreaChart = /*#__PURE__*/forwardRef((props, ref) => {\n  const {\n    className,\n    id,\n    style,\n    lineChart = false,\n    datasets = [],\n    axis = false,\n    axisLabels = [],\n    tooltip = false,\n    legend = false,\n    toggleDatasets = false,\n    width = 640,\n    height = 320,\n    maxAxisLabels = 8,\n    formatAxisLabel: formatAxisLabelProp,\n    formatLegendLabel: formatLegendLabelProp,\n    formatTooltip: formatTooltipProp,\n    formatTooltipAxisLabel,\n    formatTooltipTotal,\n    formatTooltipDataset,\n    children\n  } = props;\n  const [currentIndex, setCurrentIndex] = useState(null);\n  const previousIndex = useRef(null);\n  const [hiddenDatasets, setHiddenDatasets] = useState([]);\n  const extraAttrs = getExtraAttrs(props);\n  const elRef = useRef(null);\n  const svgElRef = useRef(null);\n  const f7Tooltip = useRef(null);\n  const linesOffsets = useRef(null);\n  useImperativeHandle(ref, () => ({\n    el: elRef.current\n  }));\n\n  const getVisibleLegends = () => {\n    if (!maxAxisLabels || axisLabels.length <= maxAxisLabels) return axisLabels;\n    const skipStep = Math.ceil(axisLabels.length / maxAxisLabels);\n    const filtered = axisLabels.filter((label, index) => index % skipStep === 0);\n    return filtered;\n  };\n\n  const getSummValues = () => {\n    const summValues = [];\n    datasets.filter((dataset, index) => !hiddenDatasets.includes(index)).forEach(_ref => {\n      let {\n        values\n      } = _ref;\n      values.forEach((value, valueIndex) => {\n        if (!summValues[valueIndex]) summValues[valueIndex] = 0;\n        summValues[valueIndex] += value;\n      });\n    });\n    return summValues;\n  };\n\n  const getChartData = () => {\n    const data = [];\n\n    if (!datasets.length) {\n      return data;\n    }\n\n    const lastValues = datasets[0].values.map(() => 0);\n    let maxValue = 0;\n\n    if (lineChart) {\n      datasets.forEach(_ref2 => {\n        let {\n          values\n        } = _ref2;\n        const datasetMaxValue = Math.max(...values);\n        if (datasetMaxValue > maxValue) maxValue = datasetMaxValue;\n      });\n    } else {\n      maxValue = Math.max(...getSummValues());\n    }\n\n    datasets.filter((dataset, index) => !hiddenDatasets.includes(index)).forEach(_ref3 => {\n      let {\n        label,\n        values,\n        color\n      } = _ref3;\n      const points = values.map((originalValue, valueIndex) => {\n        lastValues[valueIndex] += originalValue;\n        const value = lineChart ? originalValue : lastValues[valueIndex];\n        const x = valueIndex / (values.length - 1) * width;\n        const y = height - value / maxValue * height;\n\n        if (lineChart) {\n          return `${valueIndex === 0 ? 'M' : 'L'}${x},${y}`;\n        }\n\n        return `${x} ${y}`;\n      });\n\n      if (!lineChart) {\n        points.push(`${width} ${height} 0 ${height}`);\n      }\n\n      data.push({\n        label,\n        points: points.join(' '),\n        color\n      });\n    });\n    return data.reverse();\n  };\n\n  const getVerticalLines = () => {\n    const lines = [];\n\n    if (!datasets.length) {\n      return lines;\n    }\n\n    const values = datasets[0].values;\n    values.forEach((value, valueIndex) => {\n      const x = valueIndex / (values.length - 1) * width;\n      lines.push(x);\n    });\n    return lines;\n  };\n\n  const toggleDataset = index => {\n    if (!toggleDatasets) return;\n\n    if (hiddenDatasets.includes(index)) {\n      hiddenDatasets.splice(hiddenDatasets.indexOf(index), 1);\n    } else {\n      hiddenDatasets.push(index);\n    }\n\n    setHiddenDatasets([...hiddenDatasets]);\n  };\n\n  const formatAxisLabel = label => {\n    if (formatAxisLabelProp) return formatAxisLabelProp(label);\n    return label;\n  };\n\n  const formatLegendLabel = label => {\n    if (formatLegendLabelProp) return formatLegendLabelProp(label);\n    return label;\n  };\n\n  const calcLinesOffsets = () => {\n    const lines = svgElRef.current.querySelectorAll('line');\n    linesOffsets.current = [];\n\n    for (let i = 0; i < lines.length; i += 1) {\n      linesOffsets.current.push(lines[i].getBoundingClientRect().left);\n    }\n  };\n\n  const formatTooltip = () => {\n    if (currentIndex === null) return '';\n    let total = 0;\n    const currentValues = datasets.filter((dataset, index) => !hiddenDatasets.includes(index)).map(dataset => ({\n      color: dataset.color,\n      label: dataset.label,\n      value: dataset.values[currentIndex]\n    }));\n    currentValues.forEach(dataset => {\n      total += dataset.value;\n    });\n\n    if (formatTooltipProp) {\n      return formatTooltipProp({\n        index: currentIndex,\n        total,\n        datasets: currentValues\n      });\n    }\n\n    let labelText = formatTooltipAxisLabel ? formatTooltipAxisLabel(axisLabels[currentIndex]) : formatAxisLabel(axisLabels[currentIndex]);\n    if (!labelText) labelText = '';\n    const totalText = formatTooltipTotal ? formatTooltipTotal(total) : total; // prettier-ignore\n\n    const datasetsText = currentValues.length > 0 ? `\n      <ul class=\"area-chart-tooltip-list\">\n        ${currentValues.map(_ref4 => {\n      let {\n        label,\n        color,\n        value\n      } = _ref4;\n      const valueText = formatTooltipDataset ? formatTooltipDataset(label, value, color) : `${label}: ${value}`;\n      return `\n              <li><span style=\"background-color: ${color};\"></span>${valueText}</li>\n            `;\n    }).join('')}\n      </ul>` : ''; // prettier-ignore\n\n    return `\n      <div class=\"area-chart-tooltip-label\">${labelText}</div>\n      <div class=\"area-chart-tooltip-total\">${totalText}</div>\n      ${datasetsText}\n    `;\n  };\n\n  const setTooltip = () => {\n    if (!tooltip) return;\n    const hasVisibleDataSets = datasets.filter((dataset, index) => !hiddenDatasets.includes(index)).length > 0;\n\n    if (!hasVisibleDataSets) {\n      if (f7Tooltip.current && f7Tooltip.current.hide) f7Tooltip.current.hide();\n      return;\n    }\n\n    if (currentIndex !== null && !f7Tooltip.current) {\n      f7Tooltip.current = f7.tooltip.create({\n        trigger: 'manual',\n        containerEl: elRef.current,\n        targetEl: svgElRef.current.querySelector(`line[data-index=\"${currentIndex}\"]`),\n        text: formatTooltip(),\n        cssClass: 'area-chart-tooltip'\n      });\n\n      if (f7Tooltip.current && f7Tooltip.current.show) {\n        f7Tooltip.current.show();\n      }\n\n      return;\n    }\n\n    if (!f7Tooltip.current || !f7Tooltip.current.hide || !f7Tooltip.current.show) {\n      return;\n    }\n\n    if (currentIndex !== null) {\n      f7Tooltip.current.setText(formatTooltip());\n      f7Tooltip.current.setTargetEl(svgElRef.current.querySelector(`line[data-index=\"${currentIndex}\"]`));\n      f7Tooltip.current.show();\n    } else {\n      f7Tooltip.current.hide();\n    }\n  };\n\n  const onMouseEnter = () => {\n    calcLinesOffsets();\n  };\n\n  const onMouseMove = e => {\n    if (!linesOffsets.current) {\n      calcLinesOffsets();\n    }\n\n    let currentLeft = e.pageX;\n    if (typeof currentLeft === 'undefined') currentLeft = 0;\n    const distances = linesOffsets.current.map(left => Math.abs(currentLeft - left));\n    const minDistance = Math.min(...distances);\n    const closestIndex = distances.indexOf(minDistance);\n    setCurrentIndex(closestIndex);\n  };\n\n  const onMouseLeave = () => {\n    setCurrentIndex(null);\n  };\n\n  const attachEvents = () => {\n    if (!svgElRef.current) return;\n    svgElRef.current.addEventListener('mouseenter', onMouseEnter);\n    svgElRef.current.addEventListener('mousemove', onMouseMove);\n    svgElRef.current.addEventListener('mouseleave', onMouseLeave);\n  };\n\n  const detachEvents = () => {\n    if (!svgElRef.current) return;\n    svgElRef.current.removeEventListener('mouseenter', onMouseEnter);\n    svgElRef.current.removeEventListener('mousemove', onMouseMove);\n    svgElRef.current.removeEventListener('mouseleave', onMouseLeave);\n  };\n\n  useEffect(() => {\n    if (previousIndex.current === currentIndex) return;\n    previousIndex.current = currentIndex;\n    emit(props, 'select', currentIndex);\n    setTooltip();\n  }, [currentIndex]);\n  useEffect(() => {\n    attachEvents();\n    return detachEvents;\n  });\n  useEffect(() => {\n    return () => {\n      if (f7Tooltip.current && f7Tooltip.current.destroy) {\n        f7Tooltip.current.destroy();\n      }\n\n      f7Tooltip.current = null;\n    };\n  }, []);\n  const classes = classNames('area-chart', className);\n  const chartData = getChartData();\n  const verticalLines = getVerticalLines();\n  const visibleLegends = getVisibleLegends();\n  const LegendItemTag = toggleDatasets ? 'button' : 'span';\n  const ChartTag = lineChart ? 'path' : 'polygon';\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    id: id,\n    style: style,\n    className: classes,\n    ref: elRef\n  }, extraAttrs), /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: width,\n    height: height,\n    viewBox: `0 0 ${width} ${height}`,\n    preserveAspectRatio: \"none\",\n    ref: svgElRef\n  }, chartData.map((data, index) => /*#__PURE__*/React.createElement(ChartTag, {\n    key: `${ChartTag}-${index}`,\n    fill: lineChart ? undefined : data.color,\n    stroke: lineChart ? data.color : undefined,\n    fillRule: \"evenodd\",\n    points: lineChart ? undefined : data.points,\n    d: lineChart ? data.points : undefined\n  })), verticalLines.map((line, index) => /*#__PURE__*/React.createElement(\"line\", {\n    key: `line-${index}`,\n    \"data-index\": index,\n    fill: \"#000\",\n    x1: line,\n    y1: 0,\n    x2: line,\n    y2: height,\n    className: classNames({\n      'area-chart-current-line': currentIndex === index\n    })\n  }))), axis && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area-chart-axis\"\n  }, axisLabels.map((label, index) => /*#__PURE__*/React.createElement(\"span\", {\n    key: index\n  }, visibleLegends.includes(label) && /*#__PURE__*/React.createElement(\"span\", null, formatAxisLabel(label))))), legend && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area-chart-legend\"\n  }, datasets.map((dataset, index) => /*#__PURE__*/React.createElement(LegendItemTag, {\n    key: index,\n    className: classNames('area-chart-legend-item', {\n      'area-chart-legend-item-hidden': hiddenDatasets.includes(index),\n      'area-chart-legend-button': toggleDatasets\n    }),\n    type: toggleDatasets ? 'button' : undefined,\n    onClick: () => toggleDataset(index)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      backgroundColor: dataset.color\n    }\n  }), formatLegendLabel(dataset.label)))), children);\n});\nAreaChart.displayName = 'f7-area-chart';\nexport default AreaChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
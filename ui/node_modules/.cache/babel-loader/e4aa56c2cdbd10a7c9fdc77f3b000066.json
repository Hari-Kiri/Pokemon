{"ast":null,"code":"import _slicedToArray from\"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Page,Navbar,Link,Panel,Block,BlockTitle,Chip,Card,CardHeader,CardContent,Fab,Icon,f7}from'framework7-react';import'./Cards.css';import'./Panel.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var listOfCatchedPokemon=[];var SuccessAlertTitle='<i class=\"icon f7-icons color-green\" style=\"font-size: 35px;\">checkmark_alt</i>';var WarningAlertTitle='<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';var ErrorAlertTitle='<i class=\"icon f7-icons color-red\" style=\"font-size: 35px;\">xmark</i>';var DetailPage=function DetailPage(props){var chipMoves=[];var chipTypes=[];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),addToMyPokemonList=_useState2[0],setAddToMyPokemonList=_useState2[1];// const [listOfCatchedPokemon, setListOfCatchedPokemon] = useState([]);\nprops.moves.forEach(function(element){chipMoves.push(/*#__PURE__*/_jsx(Chip,{text:element.move.name}));});props.types.forEach(function(element){chipTypes.push(/*#__PURE__*/_jsx(Chip,{text:element.type.name}));});useEffect(function(){// const requestOptions = {\n//     method: 'POST',\n//     headers: { 'Content-Type': 'application/json' },\n//     body: JSON.stringify({ previousNickname: })\n// };\n// fetch('/pokemon/nickname', requestOptions)\n// .then((response) => response.json())\n// .then((response) => {\n//     if (!response.response) {\n//         f7.dialog.close();\n//         f7.dialog.alert(`Failed catching ${props.title}`, WarningAlertTitle);\n//         return;\n//     }\n//     f7.dialog.close();\n//     f7.dialog.alert(\n//         `${props.title} catched`,\n//         SuccessAlertTitle,\n//         () => {\n//             if (!addToMyPokemonList) {\n//                 setAddToMyPokemonList(true);\n//                 console.log(listOfCatchedPokemon);\n//                 return;\n//             }\n//             setAddToMyPokemonList(false);\n//             console.log(listOfCatchedPokemon);\n//         }\n//     );\n// })\n// .catch(error => {\n//     f7.dialog.close();\n//     f7.dialog.alert(\n//         `Failed catching ${props.title} because catch api error`,\n//         ErrorAlertTitle\n//     );\n//     console.error('error:', error);\n// });\n// setListOfCatchedPokemon(state => [\n//     ...state,\n//     {\n//         nickname: nickname,\n//         title: props.title,\n//         src: props.src,\n//         moves: props.moves,\n//         types: props.types,\n//     }\n// ]);\nvar nickname=\"Alif's \".concat(props.title);listOfCatchedPokemon.forEach(function(element){if(element.includes(props.title)){console.log('Catched before');return;}listOfCatchedPokemon.push({nickname:nickname,title:props.title,src:props.src,moves:props.moves,types:props.types});});},[addToMyPokemonList]);var catchPokemon=function catchPokemon(){f7.dialog.preloader('Catching Pokemon...');fetch('/pokemon/catch',{method:'GET'}).then(function(response){return response.json();}).then(function(response){if(!response.response){f7.dialog.close();f7.dialog.alert(\"Failed catching \".concat(props.title),WarningAlertTitle);return;}f7.dialog.close();f7.dialog.alert(\"\".concat(props.title,\" catched\"),SuccessAlertTitle,function(){if(!addToMyPokemonList){setAddToMyPokemonList(true);console.log(listOfCatchedPokemon);return;}setAddToMyPokemonList(false);console.log(listOfCatchedPokemon);});}).catch(function(error){f7.dialog.close();f7.dialog.alert(\"Failed catching \".concat(props.title,\" because catch api error\"),ErrorAlertTitle);console.error('error:',error);});};return/*#__PURE__*/_jsxs(Page,{name:\"list\",children:[/*#__PURE__*/_jsxs(Navbar,{title:\"Detail of \".concat(props.title),children:[/*#__PURE__*/_jsx(Link,{slot:\"left\",iconF7:\"arrowshape_turn_up_left_fill\",href:\"/list/\"}),/*#__PURE__*/_jsx(Link,{slot:\"right\",iconF7:\"menu\",panelOpen:\"#panel-menu\"})]}),/*#__PURE__*/_jsx(Panel,{right:true,cover:true,containerEl:\"#list\",id:\"panel-menu\",children:/*#__PURE__*/_jsx(Page,{children:/*#__PURE__*/_jsx(Block,{strong:true,children:/*#__PURE__*/_jsx(Link,{panelClose:true,children:\"My Pokemon List\"})})})}),/*#__PURE__*/_jsx(Fab,{position:\"center-bottom\",slot:\"fixed\",text:\"Catch\",color:\"pink\",onClick:function onClick(){catchPokemon();},children:/*#__PURE__*/_jsx(Icon,{ios:\"f7:plus\"})}),/*#__PURE__*/_jsxs(Card,{className:\"pokemon-card-header-pic\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"no-border\",valign:\"bottom\",style:{backgroundImage:\"url(\".concat(props.src,\")\")}}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(BlockTitle,{children:\"Moves\"}),chipMoves,/*#__PURE__*/_jsx(BlockTitle,{children:\"Types\"}),chipTypes]})]})]});};export default DetailPage;","map":{"version":3,"names":["React","useEffect","useState","Page","Navbar","Link","Panel","Block","BlockTitle","Chip","Card","CardHeader","CardContent","Fab","Icon","f7","listOfCatchedPokemon","SuccessAlertTitle","WarningAlertTitle","ErrorAlertTitle","DetailPage","props","chipMoves","chipTypes","addToMyPokemonList","setAddToMyPokemonList","moves","forEach","element","push","move","name","types","type","nickname","title","includes","console","log","src","catchPokemon","dialog","preloader","fetch","method","then","response","json","close","alert","catch","error","backgroundImage"],"sources":["/root/Pokemon/ui/src/DetailPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n    Page,\n    Navbar,\n    Link,\n    Panel,\n    Block,\n    BlockTitle,\n    Chip,\n    Card,\n    CardHeader,\n    CardContent,\n    Fab,\n    Icon,\n    f7\n} from 'framework7-react';\nimport './Cards.css';\nimport './Panel.css';\n\nvar listOfCatchedPokemon = [];\nconst SuccessAlertTitle = '<i class=\"icon f7-icons color-green\" style=\"font-size: 35px;\">checkmark_alt</i>';\nconst WarningAlertTitle = '<i class=\"icon f7-icons color-orange\" style=\"font-size: 35px;\">exclamationmark</i>';\nconst ErrorAlertTitle = '<i class=\"icon f7-icons color-red\" style=\"font-size: 35px;\">xmark</i>';\n\nconst DetailPage = (props) => {\n    const chipMoves = [];\n    const chipTypes = [];\n    const [addToMyPokemonList, setAddToMyPokemonList] = useState(false);\n    // const [listOfCatchedPokemon, setListOfCatchedPokemon] = useState([]);\n\n    props.moves.forEach(element => {\n        chipMoves.push(\n            <Chip text={element.move.name} />\n        )\n    });\n\n    props.types.forEach(element => {\n        chipTypes.push(\n            <Chip text={element.type.name} />\n        );\n    });\n\n    useEffect(() => {\n        // const requestOptions = {\n        //     method: 'POST',\n        //     headers: { 'Content-Type': 'application/json' },\n        //     body: JSON.stringify({ previousNickname: })\n        // };\n\n        // fetch('/pokemon/nickname', requestOptions)\n        // .then((response) => response.json())\n        // .then((response) => {\n        //     if (!response.response) {\n        //         f7.dialog.close();\n        //         f7.dialog.alert(`Failed catching ${props.title}`, WarningAlertTitle);\n        //         return;\n        //     }\n        //     f7.dialog.close();\n        //     f7.dialog.alert(\n        //         `${props.title} catched`,\n        //         SuccessAlertTitle,\n        //         () => {\n        //             if (!addToMyPokemonList) {\n        //                 setAddToMyPokemonList(true);\n        //                 console.log(listOfCatchedPokemon);\n        //                 return;\n        //             }\n        //             setAddToMyPokemonList(false);\n        //             console.log(listOfCatchedPokemon);\n        //         }\n        //     );\n        // })\n        // .catch(error => {\n        //     f7.dialog.close();\n        //     f7.dialog.alert(\n        //         `Failed catching ${props.title} because catch api error`,\n        //         ErrorAlertTitle\n        //     );\n        //     console.error('error:', error);\n        // });\n\n        // setListOfCatchedPokemon(state => [\n        //     ...state,\n        //     {\n        //         nickname: nickname,\n        //         title: props.title,\n        //         src: props.src,\n        //         moves: props.moves,\n        //         types: props.types,\n        //     }\n        // ]);\n        \n        let nickname = `Alif's ${props.title}`;\n        listOfCatchedPokemon.forEach(element => {\n            if (element.includes(props.title)) {\n                console.log('Catched before');\n                return;\n            }\n            listOfCatchedPokemon.push({\n                nickname: nickname,\n                title: props.title,\n                src: props.src,\n                moves: props.moves,\n                types: props.types,\n            });\n        })\n    }, [addToMyPokemonList]);\n\n    const catchPokemon = () => {\n        f7.dialog.preloader('Catching Pokemon...');\n        fetch('/pokemon/catch', {method: 'GET'})\n        .then((response) => response.json())\n        .then((response) => {\n            if (!response.response) {\n                f7.dialog.close();\n                f7.dialog.alert(`Failed catching ${props.title}`, WarningAlertTitle);\n                return;\n            }\n            f7.dialog.close();\n            f7.dialog.alert(\n                `${props.title} catched`,\n                SuccessAlertTitle,\n                () => {\n                    if (!addToMyPokemonList) {\n                        setAddToMyPokemonList(true);\n                        console.log(listOfCatchedPokemon);\n                        return;\n                    }\n                    setAddToMyPokemonList(false);\n                    console.log(listOfCatchedPokemon);\n                }\n            );\n        })\n        .catch(error => {\n            f7.dialog.close();\n            f7.dialog.alert(\n                `Failed catching ${props.title} because catch api error`,\n                ErrorAlertTitle\n            );\n            console.error('error:', error);\n        });\n    }\n\n    return (\n        <Page \n            name=\"list\"\n        >\n            <Navbar title={`Detail of ${props.title}`}>\n                <Link slot=\"left\" iconF7=\"arrowshape_turn_up_left_fill\" href=\"/list/\"></Link>\n                <Link slot=\"right\" iconF7=\"menu\" panelOpen=\"#panel-menu\"></Link>\n            </Navbar>\n            <Panel right cover containerEl=\"#list\" id=\"panel-menu\">\n                <Page>\n                    <Block strong>\n                        <Link panelClose>My Pokemon List</Link>\n                    </Block>\n                </Page>\n            </Panel>\n            <Fab position=\"center-bottom\" slot=\"fixed\" text=\"Catch\" color=\"pink\" onClick={() => {\n                catchPokemon();\n            }}>\n                <Icon ios=\"f7:plus\"></Icon>\n            </Fab>\n            <Card className=\"pokemon-card-header-pic\">\n                <CardHeader\n                    className=\"no-border\"\n                    valign=\"bottom\"\n                    style={{\n                        backgroundImage: `url(${props.src})`,\n                    }}\n                />\n                <CardContent>\n                    <BlockTitle>Moves</BlockTitle>\n                    {chipMoves}\n                    <BlockTitle>Types</BlockTitle>\n                    {chipTypes}\n                </CardContent>\n            </Card>\n        </Page>\n    )\n}\n\nexport default DetailPage;"],"mappings":"sGAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACIC,IADJ,CAEIC,MAFJ,CAGIC,IAHJ,CAIIC,KAJJ,CAKIC,KALJ,CAMIC,UANJ,CAOIC,IAPJ,CAQIC,IARJ,CASIC,UATJ,CAUIC,WAVJ,CAWIC,GAXJ,CAYIC,IAZJ,CAaIC,EAbJ,KAcO,kBAdP,CAeA,MAAO,aAAP,CACA,MAAO,aAAP,C,wFAEA,GAAIC,qBAAoB,CAAG,EAA3B,CACA,GAAMC,kBAAiB,CAAG,iFAA1B,CACA,GAAMC,kBAAiB,CAAG,oFAA1B,CACA,GAAMC,gBAAe,CAAG,uEAAxB,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAW,CAC1B,GAAMC,UAAS,CAAG,EAAlB,CACA,GAAMC,UAAS,CAAG,EAAlB,CACA,cAAoDrB,QAAQ,CAAC,KAAD,CAA5D,wCAAOsB,kBAAP,eAA2BC,qBAA3B,eACA;AAEAJ,KAAK,CAACK,KAAN,CAAYC,OAAZ,CAAoB,SAAAC,OAAO,CAAI,CAC3BN,SAAS,CAACO,IAAV,cACI,KAAC,IAAD,EAAM,IAAI,CAAED,OAAO,CAACE,IAAR,CAAaC,IAAzB,EADJ,EAGH,CAJD,EAMAV,KAAK,CAACW,KAAN,CAAYL,OAAZ,CAAoB,SAAAC,OAAO,CAAI,CAC3BL,SAAS,CAACM,IAAV,cACI,KAAC,IAAD,EAAM,IAAI,CAAED,OAAO,CAACK,IAAR,CAAaF,IAAzB,EADJ,EAGH,CAJD,EAMA9B,SAAS,CAAC,UAAM,CACZ;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIiC,SAAQ,kBAAab,KAAK,CAACc,KAAnB,CAAZ,CACAnB,oBAAoB,CAACW,OAArB,CAA6B,SAAAC,OAAO,CAAI,CACpC,GAAIA,OAAO,CAACQ,QAAR,CAAiBf,KAAK,CAACc,KAAvB,CAAJ,CAAmC,CAC/BE,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,OACH,CACDtB,oBAAoB,CAACa,IAArB,CAA0B,CACtBK,QAAQ,CAAEA,QADY,CAEtBC,KAAK,CAAEd,KAAK,CAACc,KAFS,CAGtBI,GAAG,CAAElB,KAAK,CAACkB,GAHW,CAItBb,KAAK,CAAEL,KAAK,CAACK,KAJS,CAKtBM,KAAK,CAAEX,KAAK,CAACW,KALS,CAA1B,EAOH,CAZD,EAaH,CAhEQ,CAgEN,CAACR,kBAAD,CAhEM,CAAT,CAkEA,GAAMgB,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBzB,EAAE,CAAC0B,MAAH,CAAUC,SAAV,CAAoB,qBAApB,EACAC,KAAK,CAAC,gBAAD,CAAmB,CAACC,MAAM,CAAE,KAAT,CAAnB,CAAL,CACCC,IADD,CACM,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADN,EAECF,IAFD,CAEM,SAACC,QAAD,CAAc,CAChB,GAAI,CAACA,QAAQ,CAACA,QAAd,CAAwB,CACpB/B,EAAE,CAAC0B,MAAH,CAAUO,KAAV,GACAjC,EAAE,CAAC0B,MAAH,CAAUQ,KAAV,2BAAmC5B,KAAK,CAACc,KAAzC,EAAkDjB,iBAAlD,EACA,OACH,CACDH,EAAE,CAAC0B,MAAH,CAAUO,KAAV,GACAjC,EAAE,CAAC0B,MAAH,CAAUQ,KAAV,WACO5B,KAAK,CAACc,KADb,aAEIlB,iBAFJ,CAGI,UAAM,CACF,GAAI,CAACO,kBAAL,CAAyB,CACrBC,qBAAqB,CAAC,IAAD,CAArB,CACAY,OAAO,CAACC,GAAR,CAAYtB,oBAAZ,EACA,OACH,CACDS,qBAAqB,CAAC,KAAD,CAArB,CACAY,OAAO,CAACC,GAAR,CAAYtB,oBAAZ,EACH,CAXL,EAaH,CAtBD,EAuBCkC,KAvBD,CAuBO,SAAAC,KAAK,CAAI,CACZpC,EAAE,CAAC0B,MAAH,CAAUO,KAAV,GACAjC,EAAE,CAAC0B,MAAH,CAAUQ,KAAV,2BACuB5B,KAAK,CAACc,KAD7B,6BAEIhB,eAFJ,EAIAkB,OAAO,CAACc,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACH,CA9BD,EA+BH,CAjCD,CAmCA,mBACI,MAAC,IAAD,EACI,IAAI,CAAC,MADT,wBAGI,MAAC,MAAD,EAAQ,KAAK,qBAAe9B,KAAK,CAACc,KAArB,CAAb,wBACI,KAAC,IAAD,EAAM,IAAI,CAAC,MAAX,CAAkB,MAAM,CAAC,8BAAzB,CAAwD,IAAI,CAAC,QAA7D,EADJ,cAEI,KAAC,IAAD,EAAM,IAAI,CAAC,OAAX,CAAmB,MAAM,CAAC,MAA1B,CAAiC,SAAS,CAAC,aAA3C,EAFJ,GAHJ,cAOI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,KAAK,KAAlB,CAAmB,WAAW,CAAC,OAA/B,CAAuC,EAAE,CAAC,YAA1C,uBACI,KAAC,IAAD,wBACI,KAAC,KAAD,EAAO,MAAM,KAAb,uBACI,KAAC,IAAD,EAAM,UAAU,KAAhB,6BADJ,EADJ,EADJ,EAPJ,cAcI,KAAC,GAAD,EAAK,QAAQ,CAAC,eAAd,CAA8B,IAAI,CAAC,OAAnC,CAA2C,IAAI,CAAC,OAAhD,CAAwD,KAAK,CAAC,MAA9D,CAAqE,OAAO,CAAE,kBAAM,CAChFK,YAAY,GACf,CAFD,uBAGI,KAAC,IAAD,EAAM,GAAG,CAAC,SAAV,EAHJ,EAdJ,cAmBI,MAAC,IAAD,EAAM,SAAS,CAAC,yBAAhB,wBACI,KAAC,UAAD,EACI,SAAS,CAAC,WADd,CAEI,MAAM,CAAC,QAFX,CAGI,KAAK,CAAE,CACHY,eAAe,eAAS/B,KAAK,CAACkB,GAAf,KADZ,CAHX,EADJ,cAQI,MAAC,WAAD,yBACI,KAAC,UAAD,oBADJ,CAEKjB,SAFL,cAGI,KAAC,UAAD,oBAHJ,CAIKC,SAJL,GARJ,GAnBJ,GADJ,CAqCH,CA5JD,CA8JA,cAAeH,WAAf"},"metadata":{},"sourceType":"module"}
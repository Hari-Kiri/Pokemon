{"ast":null,"code":"import _assertThisInitialized from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _createClass from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n\n/* eslint-disable max-classes-per-file */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, serializeObject } from './utils.js';\nvar globals = {};\nvar jsonpRequests = 0;\n\nvar RequestResponse = /*#__PURE__*/_createClass(function RequestResponse(obj) {\n  _classCallCheck(this, RequestResponse);\n\n  Object.assign(this, obj);\n});\n\nvar RequestError = /*#__PURE__*/function (_Error) {\n  _inherits(RequestError, _Error);\n\n  var _super = _createSuper(RequestError);\n\n  function RequestError(obj) {\n    var _this;\n\n    _classCallCheck(this, RequestError);\n\n    _this = _super.call(this);\n    Object.assign(_assertThisInitialized(_this), obj);\n    return _this;\n  }\n\n  return _createClass(RequestError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar request = function request(requestOptions) {\n  return new Promise(function (resolve, reject) {\n    var window = getWindow();\n    var document = getDocument();\n    var globalsNoCallbacks = extend({}, globals);\n    'beforeCreate beforeOpen beforeSend error complete success statusCode'.split(' ').forEach(function (callbackName) {\n      delete globalsNoCallbacks[callbackName];\n    });\n    var defaults = extend({\n      url: window.location.toString(),\n      method: 'GET',\n      data: false,\n      async: true,\n      cache: true,\n      user: '',\n      password: '',\n      headers: {},\n      xhrFields: {},\n      statusCode: {},\n      processData: true,\n      dataType: 'text',\n      contentType: 'application/x-www-form-urlencoded',\n      timeout: 0\n    }, globalsNoCallbacks);\n    var proceedRequest;\n    var options = extend({}, defaults, requestOptions);\n\n    if (requestOptions.abortController) {\n      options.abortController = requestOptions.abortController;\n    }\n\n    if (options.abortController && options.abortController.canceled) {\n      reject(new RequestError({\n        options: options,\n        status: 'canceled',\n        message: 'canceled'\n      }));\n      return;\n    } // Function to run XHR callbacks and events\n\n\n    function fireCallback(callbackName) {\n      /*\n      Callbacks:\n      beforeCreate (options),\n      beforeOpen (xhr, options),\n      beforeSend (xhr, options),\n      error (xhr, status, message),\n      complete (xhr, status),\n      success (response, status, xhr),\n      statusCode ()\n      */\n      var globalCallbackValue;\n      var optionCallbackValue;\n\n      for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        data[_key - 1] = arguments[_key];\n      }\n\n      if (globals[callbackName]) {\n        globalCallbackValue = globals[callbackName].apply(globals, data);\n      }\n\n      if (options[callbackName]) {\n        optionCallbackValue = options[callbackName].apply(options, data);\n      }\n\n      if (typeof globalCallbackValue !== 'boolean') globalCallbackValue = true;\n      if (typeof optionCallbackValue !== 'boolean') optionCallbackValue = true;\n\n      if (options.abortController && options.abortController.canceled && (callbackName === 'beforeCreate' || callbackName === 'beforeOpen' || callbackName === 'beforeSend')) {\n        return false;\n      }\n\n      return globalCallbackValue && optionCallbackValue;\n    } // Before create callback\n\n\n    proceedRequest = fireCallback('beforeCreate', options);\n\n    if (proceedRequest === false) {\n      reject(new RequestError({\n        options: options,\n        status: 'canceled',\n        message: 'canceled'\n      }));\n      return;\n    } // For jQuery guys\n\n\n    if (options.type) options.method = options.type; // Parameters Prefix\n\n    var paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?'; // UC method\n\n    var method = options.method.toUpperCase(); // Data to modify GET URL\n\n    if ((method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') && options.data) {\n      var stringData;\n\n      if (typeof options.data === 'string') {\n        // Should be key=value string\n        if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];else stringData = options.data;\n      } else {\n        // Should be key=value object\n        stringData = serializeObject(options.data);\n      }\n\n      if (stringData.length) {\n        options.url += paramsPrefix + stringData;\n        if (paramsPrefix === '?') paramsPrefix = '&';\n      }\n    } // JSONP\n\n\n    if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n      var callbackName = \"f7jsonp_\".concat(Date.now() + (jsonpRequests += 1));\n      var abortTimeout;\n      var callbackSplit = options.url.split('callback=');\n      var requestUrl = \"\".concat(callbackSplit[0], \"callback=\").concat(callbackName);\n\n      if (callbackSplit[1].indexOf('&') >= 0) {\n        var addVars = callbackSplit[1].split('&').filter(function (el) {\n          return el.indexOf('=') > 0;\n        }).join('&');\n        if (addVars.length > 0) requestUrl += \"&\".concat(addVars);\n      } // Create script\n\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n\n      script.onerror = function onerror() {\n        clearTimeout(abortTimeout);\n        fireCallback('error', null, 'scripterror', 'scripterror');\n        reject(new RequestError({\n          options: options,\n          status: 'scripterror',\n          message: 'scripterror'\n        }));\n        fireCallback('complete', null, 'scripterror');\n      };\n\n      script.src = requestUrl; // Handler\n\n      window[callbackName] = function jsonpCallback(data) {\n        clearTimeout(abortTimeout);\n        fireCallback('success', data);\n        script.parentNode.removeChild(script);\n        script = null;\n        delete window[callbackName];\n        resolve(new RequestResponse({\n          options: options,\n          data: data\n        }));\n      };\n\n      document.querySelector('head').appendChild(script);\n\n      if (options.timeout > 0) {\n        abortTimeout = setTimeout(function () {\n          script.parentNode.removeChild(script);\n          script = null;\n          fireCallback('error', null, 'timeout', 'timeout');\n          reject(new RequestError({\n            options: options,\n            status: 'timeout',\n            message: 'timeout'\n          }));\n        }, options.timeout);\n      }\n\n      return;\n    } // Cache for GET/HEAD requests\n\n\n    if (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') {\n      if (options.cache === false) {\n        options.url += \"\".concat(paramsPrefix, \"_nocache\").concat(Date.now());\n      }\n    } // Create XHR\n\n\n    var xhr = new XMLHttpRequest();\n\n    if (options.abortController) {\n      var aborted = false;\n\n      options.abortController.onAbort = function () {\n        if (aborted) return;\n        aborted = true;\n        xhr.abort();\n        reject(new RequestError({\n          options: options,\n          xhr: xhr,\n          status: 'canceled',\n          message: 'canceled'\n        }));\n      };\n    } // Save Request URL\n\n\n    xhr.requestUrl = options.url;\n    xhr.requestParameters = options; // Before open callback\n\n    proceedRequest = fireCallback('beforeOpen', xhr, options);\n\n    if (proceedRequest === false) {\n      reject(new RequestError({\n        options: options,\n        xhr: xhr,\n        status: 'canceled',\n        message: 'canceled'\n      }));\n      return;\n    } // Open XHR\n\n\n    xhr.open(method, options.url, options.async, options.user, options.password); // Create POST Data\n\n    var postData = null;\n\n    if ((method === 'POST' || method === 'PUT' || method === 'PATCH') && options.data) {\n      if (options.processData) {\n        var postDataInstances = [ArrayBuffer, Blob, Document, FormData]; // Post Data\n\n        if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n          postData = options.data;\n        } else {\n          // POST Headers\n          var boundary = \"---------------------------\".concat(Date.now().toString(16));\n\n          if (options.contentType === 'multipart/form-data') {\n            xhr.setRequestHeader('Content-Type', \"multipart/form-data; boundary=\".concat(boundary));\n          } else {\n            xhr.setRequestHeader('Content-Type', options.contentType);\n          }\n\n          postData = '';\n          var data = serializeObject(options.data);\n\n          if (options.contentType === 'multipart/form-data') {\n            data = data.split('&');\n            var newData = [];\n\n            for (var i = 0; i < data.length; i += 1) {\n              newData.push(\"Content-Disposition: form-data; name=\\\"\".concat(data[i].split('=')[0], \"\\\"\\r\\n\\r\\n\").concat(data[i].split('=')[1], \"\\r\\n\"));\n            }\n\n            postData = \"--\".concat(boundary, \"\\r\\n\").concat(newData.join(\"--\".concat(boundary, \"\\r\\n\")), \"--\").concat(boundary, \"--\\r\\n\");\n          } else if (options.contentType === 'application/json') {\n            postData = JSON.stringify(options.data);\n          } else {\n            postData = data;\n          }\n        }\n      } else {\n        postData = options.data;\n        xhr.setRequestHeader('Content-Type', options.contentType);\n      }\n    }\n\n    if (options.dataType === 'json' && (!options.headers || !options.headers.Accept)) {\n      xhr.setRequestHeader('Accept', 'application/json');\n    } // Additional headers\n\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (headerName) {\n        if (typeof options.headers[headerName] === 'undefined') return;\n        xhr.setRequestHeader(headerName, options.headers[headerName]);\n      });\n    } // Check for crossDomain\n\n\n    if (typeof options.crossDomain === 'undefined') {\n      options.crossDomain = // eslint-disable-next-line\n      /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n    }\n\n    if (!options.crossDomain) {\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    if (options.xhrFields) {\n      extend(xhr, options.xhrFields);\n    } // Handle XHR\n\n\n    xhr.onload = function onload() {\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 0) {\n        var responseData;\n\n        if (options.dataType === 'json') {\n          var parseError;\n\n          try {\n            responseData = JSON.parse(xhr.responseText);\n          } catch (err) {\n            parseError = true;\n          }\n\n          if (!parseError) {\n            fireCallback('success', responseData, xhr.status, xhr);\n            resolve(new RequestResponse({\n              options: options,\n              data: responseData,\n              status: xhr.status,\n              xhr: xhr\n            }));\n          } else {\n            fireCallback('error', xhr, 'parseerror', 'parseerror');\n            reject(new RequestError({\n              options: options,\n              xhr: xhr,\n              status: 'parseerror',\n              message: 'parseerror'\n            }));\n          }\n        } else {\n          responseData = xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\n          fireCallback('success', responseData, xhr.status, xhr);\n          resolve(new RequestResponse({\n            options: options,\n            data: responseData,\n            status: xhr.status,\n            xhr: xhr\n          }));\n        }\n      } else {\n        fireCallback('error', xhr, xhr.status, xhr.statusText);\n        reject(new RequestError({\n          options: options,\n          xhr: xhr,\n          status: xhr.status,\n          message: xhr.statusText\n        }));\n      }\n\n      if (options.statusCode) {\n        if (globals.statusCode && globals.statusCode[xhr.status]) globals.statusCode[xhr.status](xhr);\n        if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n      }\n\n      fireCallback('complete', xhr, xhr.status);\n    };\n\n    xhr.onerror = function onerror() {\n      fireCallback('error', xhr, xhr.status, xhr.status);\n      reject(new RequestError({\n        options: options,\n        xhr: xhr,\n        status: xhr.status,\n        message: xhr.statusText\n      }));\n      fireCallback('complete', xhr, 'error');\n    }; // Timeout\n\n\n    if (options.timeout > 0) {\n      xhr.timeout = options.timeout;\n\n      xhr.ontimeout = function () {\n        fireCallback('error', xhr, 'timeout', 'timeout');\n        reject(new RequestError({\n          options: options,\n          xhr: xhr,\n          status: 'timeout',\n          message: 'timeout'\n        }));\n        fireCallback('complete', xhr, 'timeout');\n      };\n    } // Ajax start callback\n\n\n    proceedRequest = fireCallback('beforeSend', xhr, options);\n\n    if (proceedRequest === false) {\n      reject(new RequestError({\n        options: options,\n        xhr: xhr,\n        status: 'canceled',\n        message: 'canceled'\n      }));\n      return;\n    } // Send XHR\n\n\n    xhr.send(postData);\n  });\n};\n\nfunction requestShortcut(method) {\n  var _ref = [],\n      url = _ref[0],\n      data = _ref[1],\n      success = _ref[2],\n      error = _ref[3],\n      dataType = _ref[4];\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  if (typeof args[1] === 'function') {\n    url = args[0];\n    success = args[1];\n    error = args[2];\n    dataType = args[3];\n  } else {\n    url = args[0];\n    data = args[1];\n    success = args[2];\n    error = args[3];\n    dataType = args[4];\n  }\n\n  [success, error].forEach(function (callback) {\n    if (typeof callback === 'string') {\n      dataType = callback;\n      if (callback === success) success = undefined;else error = undefined;\n    }\n  });\n  dataType = dataType || (method === 'json' || method === 'postJSON' ? 'json' : undefined);\n  var requestOptions = {\n    url: url,\n    method: method === 'post' || method === 'postJSON' ? 'POST' : 'GET',\n    data: data,\n    success: success,\n    error: error,\n    dataType: dataType\n  };\n\n  if (method === 'postJSON') {\n    extend(requestOptions, {\n      contentType: 'application/json',\n      processData: false,\n      crossDomain: true,\n      data: typeof data === 'string' ? data : JSON.stringify(data)\n    });\n  }\n\n  return request(requestOptions);\n}\n\nObject.assign(request, {\n  get: function get() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return requestShortcut.apply(void 0, ['get'].concat(args));\n  },\n  post: function post() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return requestShortcut.apply(void 0, ['post'].concat(args));\n  },\n  json: function json() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return requestShortcut.apply(void 0, ['json'].concat(args));\n  },\n  getJSON: function getJSON() {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return requestShortcut.apply(void 0, ['json'].concat(args));\n  },\n  postJSON: function postJSON() {\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return requestShortcut.apply(void 0, ['postJSON'].concat(args));\n  }\n});\n\nrequest.abortController = function () {\n  var contoller = {\n    canceled: false,\n    onAbort: null,\n    abort: function abort() {\n      contoller.canceled = true;\n      if (contoller.onAbort) contoller.onAbort();\n    }\n  };\n  return contoller;\n};\n\nrequest.setup = function setup(options) {\n  if (options.type && !options.method) {\n    extend(options, {\n      method: options.type\n    });\n  }\n\n  extend(globals, options);\n};\n\nexport default request;","map":{"version":3,"names":["getWindow","getDocument","extend","serializeObject","globals","jsonpRequests","RequestResponse","obj","Object","assign","RequestError","Error","request","requestOptions","Promise","resolve","reject","window","document","globalsNoCallbacks","split","forEach","callbackName","defaults","url","location","toString","method","data","async","cache","user","password","headers","xhrFields","statusCode","processData","dataType","contentType","timeout","proceedRequest","options","abortController","canceled","status","message","fireCallback","globalCallbackValue","optionCallbackValue","_len","arguments","length","Array","_key","type","paramsPrefix","indexOf","toUpperCase","stringData","Date","now","abortTimeout","callbackSplit","requestUrl","addVars","filter","el","join","script","createElement","onerror","clearTimeout","src","jsonpCallback","parentNode","removeChild","querySelector","appendChild","setTimeout","xhr","XMLHttpRequest","aborted","onAbort","abort","requestParameters","open","postData","postDataInstances","ArrayBuffer","Blob","Document","FormData","constructor","boundary","setRequestHeader","newData","i","push","JSON","stringify","Accept","keys","headerName","crossDomain","test","RegExp","$2","host","onload","responseData","parseError","parse","responseText","err","responseType","response","statusText","ontimeout","send","requestShortcut","success","error","_len2","args","_key2","callback","undefined","get","_len3","_key3","post","_len4","_key4","json","_len5","_key5","getJSON","_len6","_key6","postJSON","_len7","_key7","contoller","setup"],"sources":["/root/Pokemon/ui/node_modules/framework7/shared/request.js"],"sourcesContent":["/* eslint-disable max-classes-per-file */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, serializeObject } from './utils.js';\nconst globals = {};\nlet jsonpRequests = 0;\n\nclass RequestResponse {\n  constructor(obj) {\n    Object.assign(this, obj);\n  }\n\n}\n\nclass RequestError extends Error {\n  constructor(obj) {\n    super();\n    Object.assign(this, obj);\n  }\n\n}\n\nconst request = requestOptions => new Promise((resolve, reject) => {\n  const window = getWindow();\n  const document = getDocument();\n  const globalsNoCallbacks = extend({}, globals);\n  'beforeCreate beforeOpen beforeSend error complete success statusCode'.split(' ').forEach(callbackName => {\n    delete globalsNoCallbacks[callbackName];\n  });\n  const defaults = extend({\n    url: window.location.toString(),\n    method: 'GET',\n    data: false,\n    async: true,\n    cache: true,\n    user: '',\n    password: '',\n    headers: {},\n    xhrFields: {},\n    statusCode: {},\n    processData: true,\n    dataType: 'text',\n    contentType: 'application/x-www-form-urlencoded',\n    timeout: 0\n  }, globalsNoCallbacks);\n  let proceedRequest;\n  const options = extend({}, defaults, requestOptions);\n\n  if (requestOptions.abortController) {\n    options.abortController = requestOptions.abortController;\n  }\n\n  if (options.abortController && options.abortController.canceled) {\n    reject(new RequestError({\n      options,\n      status: 'canceled',\n      message: 'canceled'\n    }));\n    return;\n  } // Function to run XHR callbacks and events\n\n\n  function fireCallback(callbackName) {\n    /*\n    Callbacks:\n    beforeCreate (options),\n    beforeOpen (xhr, options),\n    beforeSend (xhr, options),\n    error (xhr, status, message),\n    complete (xhr, status),\n    success (response, status, xhr),\n    statusCode ()\n    */\n    let globalCallbackValue;\n    let optionCallbackValue;\n\n    for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      data[_key - 1] = arguments[_key];\n    }\n\n    if (globals[callbackName]) {\n      globalCallbackValue = globals[callbackName](...data);\n    }\n\n    if (options[callbackName]) {\n      optionCallbackValue = options[callbackName](...data);\n    }\n\n    if (typeof globalCallbackValue !== 'boolean') globalCallbackValue = true;\n    if (typeof optionCallbackValue !== 'boolean') optionCallbackValue = true;\n\n    if (options.abortController && options.abortController.canceled && (callbackName === 'beforeCreate' || callbackName === 'beforeOpen' || callbackName === 'beforeSend')) {\n      return false;\n    }\n\n    return globalCallbackValue && optionCallbackValue;\n  } // Before create callback\n\n\n  proceedRequest = fireCallback('beforeCreate', options);\n\n  if (proceedRequest === false) {\n    reject(new RequestError({\n      options,\n      status: 'canceled',\n      message: 'canceled'\n    }));\n    return;\n  } // For jQuery guys\n\n\n  if (options.type) options.method = options.type; // Parameters Prefix\n\n  let paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?'; // UC method\n\n  const method = options.method.toUpperCase(); // Data to modify GET URL\n\n  if ((method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') && options.data) {\n    let stringData;\n\n    if (typeof options.data === 'string') {\n      // Should be key=value string\n      if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];else stringData = options.data;\n    } else {\n      // Should be key=value object\n      stringData = serializeObject(options.data);\n    }\n\n    if (stringData.length) {\n      options.url += paramsPrefix + stringData;\n      if (paramsPrefix === '?') paramsPrefix = '&';\n    }\n  } // JSONP\n\n\n  if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n    const callbackName = `f7jsonp_${Date.now() + (jsonpRequests += 1)}`;\n    let abortTimeout;\n    const callbackSplit = options.url.split('callback=');\n    let requestUrl = `${callbackSplit[0]}callback=${callbackName}`;\n\n    if (callbackSplit[1].indexOf('&') >= 0) {\n      const addVars = callbackSplit[1].split('&').filter(el => el.indexOf('=') > 0).join('&');\n      if (addVars.length > 0) requestUrl += `&${addVars}`;\n    } // Create script\n\n\n    let script = document.createElement('script');\n    script.type = 'text/javascript';\n\n    script.onerror = function onerror() {\n      clearTimeout(abortTimeout);\n      fireCallback('error', null, 'scripterror', 'scripterror');\n      reject(new RequestError({\n        options,\n        status: 'scripterror',\n        message: 'scripterror'\n      }));\n      fireCallback('complete', null, 'scripterror');\n    };\n\n    script.src = requestUrl; // Handler\n\n    window[callbackName] = function jsonpCallback(data) {\n      clearTimeout(abortTimeout);\n      fireCallback('success', data);\n      script.parentNode.removeChild(script);\n      script = null;\n      delete window[callbackName];\n      resolve(new RequestResponse({\n        options,\n        data\n      }));\n    };\n\n    document.querySelector('head').appendChild(script);\n\n    if (options.timeout > 0) {\n      abortTimeout = setTimeout(() => {\n        script.parentNode.removeChild(script);\n        script = null;\n        fireCallback('error', null, 'timeout', 'timeout');\n        reject(new RequestError({\n          options,\n          status: 'timeout',\n          message: 'timeout'\n        }));\n      }, options.timeout);\n    }\n\n    return;\n  } // Cache for GET/HEAD requests\n\n\n  if (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') {\n    if (options.cache === false) {\n      options.url += `${paramsPrefix}_nocache${Date.now()}`;\n    }\n  } // Create XHR\n\n\n  const xhr = new XMLHttpRequest();\n\n  if (options.abortController) {\n    let aborted = false;\n\n    options.abortController.onAbort = () => {\n      if (aborted) return;\n      aborted = true;\n      xhr.abort();\n      reject(new RequestError({\n        options,\n        xhr,\n        status: 'canceled',\n        message: 'canceled'\n      }));\n    };\n  } // Save Request URL\n\n\n  xhr.requestUrl = options.url;\n  xhr.requestParameters = options; // Before open callback\n\n  proceedRequest = fireCallback('beforeOpen', xhr, options);\n\n  if (proceedRequest === false) {\n    reject(new RequestError({\n      options,\n      xhr,\n      status: 'canceled',\n      message: 'canceled'\n    }));\n    return;\n  } // Open XHR\n\n\n  xhr.open(method, options.url, options.async, options.user, options.password); // Create POST Data\n\n  let postData = null;\n\n  if ((method === 'POST' || method === 'PUT' || method === 'PATCH') && options.data) {\n    if (options.processData) {\n      const postDataInstances = [ArrayBuffer, Blob, Document, FormData]; // Post Data\n\n      if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n        postData = options.data;\n      } else {\n        // POST Headers\n        const boundary = `---------------------------${Date.now().toString(16)}`;\n\n        if (options.contentType === 'multipart/form-data') {\n          xhr.setRequestHeader('Content-Type', `multipart/form-data; boundary=${boundary}`);\n        } else {\n          xhr.setRequestHeader('Content-Type', options.contentType);\n        }\n\n        postData = '';\n        let data = serializeObject(options.data);\n\n        if (options.contentType === 'multipart/form-data') {\n          data = data.split('&');\n          const newData = [];\n\n          for (let i = 0; i < data.length; i += 1) {\n            newData.push(`Content-Disposition: form-data; name=\"${data[i].split('=')[0]}\"\\r\\n\\r\\n${data[i].split('=')[1]}\\r\\n`);\n          }\n\n          postData = `--${boundary}\\r\\n${newData.join(`--${boundary}\\r\\n`)}--${boundary}--\\r\\n`;\n        } else if (options.contentType === 'application/json') {\n          postData = JSON.stringify(options.data);\n        } else {\n          postData = data;\n        }\n      }\n    } else {\n      postData = options.data;\n      xhr.setRequestHeader('Content-Type', options.contentType);\n    }\n  }\n\n  if (options.dataType === 'json' && (!options.headers || !options.headers.Accept)) {\n    xhr.setRequestHeader('Accept', 'application/json');\n  } // Additional headers\n\n\n  if (options.headers) {\n    Object.keys(options.headers).forEach(headerName => {\n      if (typeof options.headers[headerName] === 'undefined') return;\n      xhr.setRequestHeader(headerName, options.headers[headerName]);\n    });\n  } // Check for crossDomain\n\n\n  if (typeof options.crossDomain === 'undefined') {\n    options.crossDomain = // eslint-disable-next-line\n    /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n  }\n\n  if (!options.crossDomain) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (options.xhrFields) {\n    extend(xhr, options.xhrFields);\n  } // Handle XHR\n\n\n  xhr.onload = function onload() {\n    if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 0) {\n      let responseData;\n\n      if (options.dataType === 'json') {\n        let parseError;\n\n        try {\n          responseData = JSON.parse(xhr.responseText);\n        } catch (err) {\n          parseError = true;\n        }\n\n        if (!parseError) {\n          fireCallback('success', responseData, xhr.status, xhr);\n          resolve(new RequestResponse({\n            options,\n            data: responseData,\n            status: xhr.status,\n            xhr\n          }));\n        } else {\n          fireCallback('error', xhr, 'parseerror', 'parseerror');\n          reject(new RequestError({\n            options,\n            xhr,\n            status: 'parseerror',\n            message: 'parseerror'\n          }));\n        }\n      } else {\n        responseData = xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\n        fireCallback('success', responseData, xhr.status, xhr);\n        resolve(new RequestResponse({\n          options,\n          data: responseData,\n          status: xhr.status,\n          xhr\n        }));\n      }\n    } else {\n      fireCallback('error', xhr, xhr.status, xhr.statusText);\n      reject(new RequestError({\n        options,\n        xhr,\n        status: xhr.status,\n        message: xhr.statusText\n      }));\n    }\n\n    if (options.statusCode) {\n      if (globals.statusCode && globals.statusCode[xhr.status]) globals.statusCode[xhr.status](xhr);\n      if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n    }\n\n    fireCallback('complete', xhr, xhr.status);\n  };\n\n  xhr.onerror = function onerror() {\n    fireCallback('error', xhr, xhr.status, xhr.status);\n    reject(new RequestError({\n      options,\n      xhr,\n      status: xhr.status,\n      message: xhr.statusText\n    }));\n    fireCallback('complete', xhr, 'error');\n  }; // Timeout\n\n\n  if (options.timeout > 0) {\n    xhr.timeout = options.timeout;\n\n    xhr.ontimeout = () => {\n      fireCallback('error', xhr, 'timeout', 'timeout');\n      reject(new RequestError({\n        options,\n        xhr,\n        status: 'timeout',\n        message: 'timeout'\n      }));\n      fireCallback('complete', xhr, 'timeout');\n    };\n  } // Ajax start callback\n\n\n  proceedRequest = fireCallback('beforeSend', xhr, options);\n\n  if (proceedRequest === false) {\n    reject(new RequestError({\n      options,\n      xhr,\n      status: 'canceled',\n      message: 'canceled'\n    }));\n    return;\n  } // Send XHR\n\n\n  xhr.send(postData);\n});\n\nfunction requestShortcut(method) {\n  let [url, data, success, error, dataType] = [];\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  if (typeof args[1] === 'function') {\n    [url, success, error, dataType] = args;\n  } else {\n    [url, data, success, error, dataType] = args;\n  }\n\n  [success, error].forEach(callback => {\n    if (typeof callback === 'string') {\n      dataType = callback;\n      if (callback === success) success = undefined;else error = undefined;\n    }\n  });\n  dataType = dataType || (method === 'json' || method === 'postJSON' ? 'json' : undefined);\n  const requestOptions = {\n    url,\n    method: method === 'post' || method === 'postJSON' ? 'POST' : 'GET',\n    data,\n    success,\n    error,\n    dataType\n  };\n\n  if (method === 'postJSON') {\n    extend(requestOptions, {\n      contentType: 'application/json',\n      processData: false,\n      crossDomain: true,\n      data: typeof data === 'string' ? data : JSON.stringify(data)\n    });\n  }\n\n  return request(requestOptions);\n}\n\nObject.assign(request, {\n  get: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return requestShortcut('get', ...args);\n  },\n  post: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return requestShortcut('post', ...args);\n  },\n  json: function () {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return requestShortcut('json', ...args);\n  },\n  getJSON: function () {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return requestShortcut('json', ...args);\n  },\n  postJSON: function () {\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return requestShortcut('postJSON', ...args);\n  }\n});\n\nrequest.abortController = () => {\n  const contoller = {\n    canceled: false,\n    onAbort: null,\n\n    abort() {\n      contoller.canceled = true;\n      if (contoller.onAbort) contoller.onAbort();\n    }\n\n  };\n  return contoller;\n};\n\nrequest.setup = function setup(options) {\n  if (options.type && !options.method) {\n    extend(options, {\n      method: options.type\n    });\n  }\n\n  extend(globals, options);\n};\n\nexport default request;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
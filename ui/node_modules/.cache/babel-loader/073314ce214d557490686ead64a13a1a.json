{"ast":null,"code":"import _classCallCheck from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport $ from '../../shared/dom7.js';\n\nvar TouchRipple = /*#__PURE__*/function () {\n  function TouchRipple(app, $el, x, y) {\n    _classCallCheck(this, TouchRipple);\n\n    var ripple = this;\n    if (!$el) return undefined;\n\n    var _$el$0$getBoundingCli = $el[0].getBoundingClientRect(),\n        left = _$el$0$getBoundingCli.left,\n        top = _$el$0$getBoundingCli.top,\n        width = _$el$0$getBoundingCli.width,\n        height = _$el$0$getBoundingCli.height;\n\n    var center = {\n      x: x - left,\n      y: y - top\n    };\n    var diameter = Math.max(Math.pow(Math.pow(height, 2) + Math.pow(width, 2), 0.5), 48);\n    var isInset = false;\n    var insetElements = app.params.touch.touchRippleInsetElements || '';\n\n    if (insetElements && $el.is(insetElements)) {\n      isInset = true;\n    }\n\n    if (isInset) {\n      diameter = Math.max(Math.min(width, height), 48);\n    }\n\n    if (!isInset && $el.css('overflow') === 'hidden') {\n      var distanceFromCenter = Math.pow(Math.pow(center.x - width / 2, 2) + Math.pow(center.y - height / 2, 2), 0.5);\n      var scale = (diameter / 2 + distanceFromCenter) / (diameter / 2);\n      ripple.rippleTransform = \"translate3d(0px, 0px, 0) scale(\".concat(scale, \")\");\n    } else {\n      // prettier-ignore\n      ripple.rippleTransform = \"translate3d(\".concat(-center.x + width / 2, \"px, \").concat(-center.y + height / 2, \"px, 0) scale(1)\");\n    }\n\n    if (isInset) {\n      $el.addClass('ripple-inset');\n    }\n\n    ripple.$rippleWaveEl = $(\"<div class=\\\"ripple-wave\\\" style=\\\"width: \".concat(diameter, \"px; height: \").concat(diameter, \"px; margin-top:-\").concat(diameter / 2, \"px; margin-left:-\").concat(diameter / 2, \"px; left:\").concat(center.x, \"px; top:\").concat(center.y, \"px; --f7-ripple-transform: \").concat(ripple.rippleTransform, \"\\\"></div>\"));\n    $el.prepend(ripple.$rippleWaveEl);\n    ripple.$rippleWaveEl.animationEnd(function () {\n      if (!ripple.$rippleWaveEl) return;\n      if (ripple.$rippleWaveEl.hasClass('ripple-wave-out')) return;\n      ripple.$rippleWaveEl.addClass('ripple-wave-in');\n\n      if (ripple.shouldBeRemoved) {\n        ripple.out();\n      }\n    });\n    return ripple;\n  }\n\n  _createClass(TouchRipple, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var ripple = this;\n\n      if (ripple.$rippleWaveEl) {\n        ripple.$rippleWaveEl.remove();\n      }\n\n      Object.keys(ripple).forEach(function (key) {\n        ripple[key] = null;\n        delete ripple[key];\n      });\n      ripple = null;\n    }\n  }, {\n    key: \"out\",\n    value: function out() {\n      var ripple = this;\n      var $rippleWaveEl = this.$rippleWaveEl;\n      clearTimeout(ripple.removeTimeout);\n      $rippleWaveEl.addClass('ripple-wave-out');\n      ripple.removeTimeout = setTimeout(function () {\n        ripple.destroy();\n      }, 300);\n      $rippleWaveEl.animationEnd(function () {\n        clearTimeout(ripple.removeTimeout);\n        ripple.destroy();\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var ripple = this;\n      if (ripple.shouldBeRemoved) return;\n      ripple.removeTimeout = setTimeout(function () {\n        ripple.destroy();\n      }, 400);\n      ripple.shouldBeRemoved = true;\n\n      if (ripple.$rippleWaveEl.hasClass('ripple-wave-in')) {\n        ripple.out();\n      }\n    }\n  }]);\n\n  return TouchRipple;\n}();\n\nexport { TouchRipple as default };","map":{"version":3,"names":["$","TouchRipple","app","$el","x","y","ripple","undefined","getBoundingClientRect","left","top","width","height","center","diameter","Math","max","isInset","insetElements","params","touch","touchRippleInsetElements","is","min","css","distanceFromCenter","scale","rippleTransform","addClass","$rippleWaveEl","prepend","animationEnd","hasClass","shouldBeRemoved","out","remove","Object","keys","forEach","key","clearTimeout","removeTimeout","setTimeout","destroy"],"sources":["/root/Pokemon/ui/node_modules/framework7/components/touch-ripple/touch-ripple-class.js"],"sourcesContent":["import $ from '../../shared/dom7.js';\nexport default class TouchRipple {\n  constructor(app, $el, x, y) {\n    const ripple = this;\n    if (!$el) return undefined;\n    const {\n      left,\n      top,\n      width,\n      height\n    } = $el[0].getBoundingClientRect();\n    const center = {\n      x: x - left,\n      y: y - top\n    };\n    let diameter = Math.max((height ** 2 + width ** 2) ** 0.5, 48);\n    let isInset = false;\n    const insetElements = app.params.touch.touchRippleInsetElements || '';\n\n    if (insetElements && $el.is(insetElements)) {\n      isInset = true;\n    }\n\n    if (isInset) {\n      diameter = Math.max(Math.min(width, height), 48);\n    }\n\n    if (!isInset && $el.css('overflow') === 'hidden') {\n      const distanceFromCenter = ((center.x - width / 2) ** 2 + (center.y - height / 2) ** 2) ** 0.5;\n      const scale = (diameter / 2 + distanceFromCenter) / (diameter / 2);\n      ripple.rippleTransform = `translate3d(0px, 0px, 0) scale(${scale})`;\n    } else {\n      // prettier-ignore\n      ripple.rippleTransform = `translate3d(${-center.x + width / 2}px, ${-center.y + height / 2}px, 0) scale(1)`;\n    }\n\n    if (isInset) {\n      $el.addClass('ripple-inset');\n    }\n\n    ripple.$rippleWaveEl = $(`<div class=\"ripple-wave\" style=\"width: ${diameter}px; height: ${diameter}px; margin-top:-${diameter / 2}px; margin-left:-${diameter / 2}px; left:${center.x}px; top:${center.y}px; --f7-ripple-transform: ${ripple.rippleTransform}\"></div>`);\n    $el.prepend(ripple.$rippleWaveEl);\n    ripple.$rippleWaveEl.animationEnd(() => {\n      if (!ripple.$rippleWaveEl) return;\n      if (ripple.$rippleWaveEl.hasClass('ripple-wave-out')) return;\n      ripple.$rippleWaveEl.addClass('ripple-wave-in');\n\n      if (ripple.shouldBeRemoved) {\n        ripple.out();\n      }\n    });\n    return ripple;\n  }\n\n  destroy() {\n    let ripple = this;\n\n    if (ripple.$rippleWaveEl) {\n      ripple.$rippleWaveEl.remove();\n    }\n\n    Object.keys(ripple).forEach(key => {\n      ripple[key] = null;\n      delete ripple[key];\n    });\n    ripple = null;\n  }\n\n  out() {\n    const ripple = this;\n    const {\n      $rippleWaveEl\n    } = this;\n    clearTimeout(ripple.removeTimeout);\n    $rippleWaveEl.addClass('ripple-wave-out');\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 300);\n    $rippleWaveEl.animationEnd(() => {\n      clearTimeout(ripple.removeTimeout);\n      ripple.destroy();\n    });\n  }\n\n  remove() {\n    const ripple = this;\n    if (ripple.shouldBeRemoved) return;\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 400);\n    ripple.shouldBeRemoved = true;\n\n    if (ripple.$rippleWaveEl.hasClass('ripple-wave-in')) {\n      ripple.out();\n    }\n  }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _possibleConstructorReturn from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _assertThisInitialized from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/root/Pokemon/ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Modal from '../modal/modal-class.js';\n\nvar Popover = /*#__PURE__*/function (_Modal) {\n  _inherits(Popover, _Modal);\n\n  var _super = _createSuper(Popover);\n\n  function Popover(app, params) {\n    var _this;\n\n    _classCallCheck(this, Popover);\n\n    var extendedParams = extend({\n      on: {}\n    }, app.params.popover, params); // Extends with open/close Modal methods;\n\n    _this = _super.call(this, app, extendedParams);\n\n    var popover = _assertThisInitialized(_this);\n\n    var device = getDevice();\n    var window = getWindow();\n    var document = getDocument();\n    popover.params = extendedParams; // Find Element\n\n    var $el;\n\n    if (!popover.params.el) {\n      $el = $(popover.params.content).filter(function (node) {\n        return node.nodeType === 1;\n      }).eq(0);\n    } else {\n      $el = $(popover.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return _possibleConstructorReturn(_this, $el[0].f7Modal);\n    } // Find Target\n\n\n    var $targetEl = $(popover.params.targetEl).eq(0);\n\n    if ($el.length === 0) {\n      return _possibleConstructorReturn(_this, popover.destroy());\n    } // Backdrop\n\n\n    var $backdropEl;\n    var forceBackdropUnique = popover.params.backdrop && app.$el.find('.popover.modal-in').filter(function (anotherPopoverEl) {\n      return anotherPopoverEl !== $el[0];\n    }).length > 0;\n\n    if (popover.params.backdrop && popover.params.backdropEl) {\n      $backdropEl = $(popover.params.backdropEl);\n    } else if (popover.params.backdrop) {\n      if (popover.params.backdropUnique || forceBackdropUnique) {\n        $backdropEl = $('<div class=\"popover-backdrop popover-backdrop-unique\"></div>');\n        $backdropEl[0].f7PopoverRef = popover;\n        popover.$containerEl.append($backdropEl);\n      } else {\n        $backdropEl = popover.$containerEl.children('.popover-backdrop');\n      }\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popover-backdrop\"></div>');\n        popover.$containerEl.append($backdropEl);\n      }\n    } // Find Angle\n\n\n    var $angleEl;\n\n    if ($el.find('.popover-angle').length === 0) {\n      $angleEl = $('<div class=\"popover-angle\"></div>');\n      $el.prepend($angleEl);\n    } else {\n      $angleEl = $el.find('.popover-angle');\n    } // Open\n\n\n    var originalOpen = popover.open;\n    extend(popover, {\n      app: app,\n      $el: $el,\n      el: $el[0],\n      $targetEl: $targetEl,\n      targetEl: $targetEl[0],\n      $angleEl: $angleEl,\n      angleEl: $angleEl[0],\n      $backdropEl: $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popover',\n      forceBackdropUnique: forceBackdropUnique,\n      open: function open() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var targetEl = args[0],\n            animate = args[1];\n\n        if (typeof args[0] === 'boolean') {\n          animate = args[0];\n          targetEl = args[1];\n        }\n\n        if (targetEl) {\n          popover.$targetEl = $(targetEl);\n          popover.targetEl = popover.$targetEl[0];\n        }\n\n        return originalOpen.call(popover, animate);\n      }\n    });\n\n    function handleResize() {\n      popover.resize();\n    }\n\n    popover.on('popoverOpen', function () {\n      popover.resize();\n      app.on('resize', handleResize);\n      $(window).on('keyboardDidShow keyboardDidHide', handleResize);\n      popover.on('popoverClose popoverBeforeDestroy', function () {\n        app.off('resize', handleResize);\n        $(window).off('keyboardDidShow keyboardDidHide', handleResize);\n      });\n    });\n    var touchStartTarget = null;\n\n    function handleTouchStart(e) {\n      touchStartTarget = e.target;\n    }\n\n    function handleClick(e) {\n      var target = e.target;\n      var $target = $(target);\n      var keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(popover.el).length === 0) {\n        if (popover.params.closeByBackdropClick && popover.params.backdrop && popover.backdropEl && popover.backdropEl === target && touchStartTarget === target) {\n          popover.close();\n        } else if (popover.params.closeByOutsideClick && touchStartTarget === target) {\n          var isAnotherPopoverBackdrop = $target.hasClass('popover-backdrop-unique') && target.f7PopoverRef !== popover || $target.hasClass('popover-backdrop') && target !== popover.backdropEl;\n          var isAnotherPopoverTarget = target.closest('.popover') && target.closest('.popover') !== popover.$el[0];\n\n          if (!isAnotherPopoverBackdrop && !isAnotherPopoverTarget) {\n            popover.close();\n          }\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === 27 && popover.params.closeOnEscape) {\n        popover.close();\n      }\n    }\n\n    if (popover.params.closeOnEscape) {\n      popover.on('popoverOpen', function () {\n        $(document).on('keydown', onKeyDown);\n      });\n      popover.on('popoverClose', function () {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    popover.on('popoverOpened', function () {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.on('touchstart', handleTouchStart);\n        app.on('click', handleClick);\n      }\n    });\n    popover.on('popoverClose', function () {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.off('touchstart', handleTouchStart);\n        app.off('click', handleClick);\n      }\n    });\n    $el[0].f7Modal = popover;\n    return _possibleConstructorReturn(_this, popover);\n  }\n\n  _createClass(Popover, [{\n    key: \"resize\",\n    value: function resize() {\n      var popover = this;\n      var app = popover.app,\n          $el = popover.$el,\n          $targetEl = popover.$targetEl,\n          $angleEl = popover.$angleEl;\n      var _popover$params = popover.params,\n          targetX = _popover$params.targetX,\n          targetY = _popover$params.targetY,\n          verticalPosition = _popover$params.verticalPosition;\n      $el.css({\n        left: '',\n        top: ''\n      });\n      var _ref = [$el.width(), $el.height()],\n          width = _ref[0],\n          height = _ref[1];\n      var angleSize = 0;\n      var angleLeft;\n      var angleTop;\n\n      if (app.theme === 'ios' || app.theme === 'aurora') {\n        $angleEl.removeClass('on-left on-right on-top on-bottom').css({\n          left: '',\n          top: ''\n        });\n        angleSize = $angleEl.width() / 2;\n      } else {\n        $el.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle').css({\n          left: '',\n          top: ''\n        });\n      }\n\n      var targetWidth;\n      var targetHeight;\n      var targetOffsetLeft;\n      var targetOffsetTop;\n      var safeAreaTop = parseInt($('html').css('--f7-safe-area-top'), 10);\n      var safeAreaLeft = parseInt($('html').css('--f7-safe-area-left'), 10);\n      var safeAreaRight = parseInt($('html').css('--f7-safe-area-right'), 10);\n      if (Number.isNaN(safeAreaTop)) safeAreaTop = 0;\n      if (Number.isNaN(safeAreaLeft)) safeAreaLeft = 0;\n      if (Number.isNaN(safeAreaRight)) safeAreaRight = 0;\n\n      if ($targetEl && $targetEl.length > 0) {\n        targetWidth = $targetEl.outerWidth();\n        targetHeight = $targetEl.outerHeight();\n        var targetOffset = $targetEl.offset();\n        targetOffsetLeft = targetOffset.left - app.left;\n        targetOffsetTop = targetOffset.top - app.top;\n        var targetParentPage = $targetEl.parents('.page');\n\n        if (targetParentPage.length > 0) {\n          targetOffsetTop -= targetParentPage[0].scrollTop;\n        }\n      } else if (typeof targetX !== 'undefined' && targetY !== 'undefined') {\n        targetOffsetLeft = targetX;\n        targetOffsetTop = targetY;\n        targetWidth = popover.params.targetWidth || 0;\n        targetHeight = popover.params.targetHeight || 0;\n      }\n\n      var left = 0,\n          top = 0,\n          diff = 0; // Top Position\n\n      var forcedPosition = verticalPosition === 'auto' ? false : verticalPosition;\n      var position = forcedPosition || (app.theme === 'md' ? 'bottom' : 'top');\n\n      if (app.theme === 'md') {\n        if (forcedPosition === 'bottom' || !forcedPosition && height < app.height - targetOffsetTop - targetHeight) {\n          // On bottom\n          position = 'bottom';\n          top = targetOffsetTop + targetHeight;\n        } else if (forcedPosition === 'top' || !forcedPosition && height < targetOffsetTop - safeAreaTop) {\n          // On top\n          top = targetOffsetTop - height;\n          position = 'top';\n        } else {\n          // On middle\n          position = 'middle';\n          top = targetHeight / 2 + targetOffsetTop - height / 2;\n        }\n\n        top = Math.max(8, Math.min(top, app.height - height - 8)); // Horizontal Position\n\n        var hPosition;\n\n        if (targetOffsetLeft < app.width / 2) {\n          hPosition = 'right';\n          left = position === 'middle' ? targetOffsetLeft + targetWidth : targetOffsetLeft;\n        } else {\n          hPosition = 'left';\n          left = position === 'middle' ? targetOffsetLeft - width : targetOffsetLeft + targetWidth - width;\n        }\n\n        left = Math.max(8, Math.min(left, app.width - width - 8 - safeAreaRight), safeAreaLeft);\n        $el.addClass(\"popover-on-\".concat(position, \" popover-on-\").concat(hPosition));\n      } else {\n        // ios and aurora\n        if (forcedPosition === 'top' || !forcedPosition && height + angleSize < targetOffsetTop - safeAreaTop) {\n          // On top\n          top = targetOffsetTop - height - angleSize;\n        } else if (forcedPosition === 'bottom' || !forcedPosition && height + angleSize < app.height - targetOffsetTop - targetHeight) {\n          // On bottom\n          position = 'bottom';\n          top = targetOffsetTop + targetHeight + angleSize;\n        } else {\n          // On middle\n          position = 'middle';\n          top = targetHeight / 2 + targetOffsetTop - height / 2;\n          diff = top;\n          top = Math.max(5, Math.min(top, app.height - height - 5));\n          diff -= top;\n        } // Horizontal Position\n\n\n        if (position === 'top' || position === 'bottom') {\n          left = targetWidth / 2 + targetOffsetLeft - width / 2;\n          diff = left;\n          left = Math.max(5, Math.min(left, app.width - width - 5));\n\n          if (safeAreaLeft) {\n            left = Math.max(left, safeAreaLeft);\n          }\n\n          if (safeAreaRight && left + width > app.width - 5 - safeAreaRight) {\n            left = app.width - 5 - safeAreaRight - width;\n          }\n\n          if (position === 'top') {\n            $angleEl.addClass('on-bottom');\n          }\n\n          if (position === 'bottom') {\n            $angleEl.addClass('on-top');\n          }\n\n          diff -= left;\n          angleLeft = width / 2 - angleSize + diff;\n          angleLeft = Math.max(Math.min(angleLeft, width - angleSize * 2 - 13), 13);\n          $angleEl.css({\n            left: \"\".concat(angleLeft, \"px\")\n          });\n        } else if (position === 'middle') {\n          left = targetOffsetLeft - width - angleSize;\n          $angleEl.addClass('on-right');\n\n          if (left < 5 || left + width + safeAreaRight > app.width || left < safeAreaLeft) {\n            if (left < 5) left = targetOffsetLeft + targetWidth + angleSize;\n            if (left + width + safeAreaRight > app.width) left = app.width - width - 5 - safeAreaRight;\n            if (left < safeAreaLeft) left = safeAreaLeft;\n            $angleEl.removeClass('on-right').addClass('on-left');\n          }\n\n          angleTop = height / 2 - angleSize + diff;\n          angleTop = Math.max(Math.min(angleTop, height - angleSize * 2 - 13), 13);\n          $angleEl.css({\n            top: \"\".concat(angleTop, \"px\")\n          });\n        }\n      } // Apply Styles\n\n\n      $el.css({\n        top: \"\".concat(top, \"px\"),\n        left: \"\".concat(left, \"px\")\n      });\n    }\n  }]);\n\n  return Popover;\n}(Modal);\n\nexport default Popover;","map":{"version":3,"names":["getWindow","getDocument","$","extend","getDevice","Modal","Popover","app","params","extendedParams","on","popover","device","window","document","$el","el","content","filter","node","nodeType","eq","length","f7Modal","$targetEl","targetEl","destroy","$backdropEl","forceBackdropUnique","backdrop","find","anotherPopoverEl","backdropEl","backdropUnique","f7PopoverRef","$containerEl","append","children","$angleEl","prepend","originalOpen","open","angleEl","type","_len","arguments","args","Array","_key","animate","call","handleResize","resize","off","touchStartTarget","handleTouchStart","e","target","handleClick","$target","keyboardOpened","desktop","cordova","Keyboard","isVisible","plugins","closest","closeByBackdropClick","close","closeByOutsideClick","isAnotherPopoverBackdrop","hasClass","isAnotherPopoverTarget","onKeyDown","keyCode","closeOnEscape","targetX","targetY","verticalPosition","css","left","top","width","height","angleSize","angleLeft","angleTop","theme","removeClass","targetWidth","targetHeight","targetOffsetLeft","targetOffsetTop","safeAreaTop","parseInt","safeAreaLeft","safeAreaRight","Number","isNaN","outerWidth","outerHeight","targetOffset","offset","targetParentPage","parents","scrollTop","diff","forcedPosition","position","Math","max","min","hPosition","addClass"],"sources":["/root/Pokemon/ui/node_modules/framework7/components/popover/popover-class.js"],"sourcesContent":["import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Modal from '../modal/modal-class.js';\n\nclass Popover extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.popover, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const popover = this;\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n    popover.params = extendedParams; // Find Element\n\n    let $el;\n\n    if (!popover.params.el) {\n      $el = $(popover.params.content).filter(node => node.nodeType === 1).eq(0);\n    } else {\n      $el = $(popover.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    } // Find Target\n\n\n    const $targetEl = $(popover.params.targetEl).eq(0);\n\n    if ($el.length === 0) {\n      return popover.destroy();\n    } // Backdrop\n\n\n    let $backdropEl;\n    const forceBackdropUnique = popover.params.backdrop && app.$el.find('.popover.modal-in').filter(anotherPopoverEl => anotherPopoverEl !== $el[0]).length > 0;\n\n    if (popover.params.backdrop && popover.params.backdropEl) {\n      $backdropEl = $(popover.params.backdropEl);\n    } else if (popover.params.backdrop) {\n      if (popover.params.backdropUnique || forceBackdropUnique) {\n        $backdropEl = $('<div class=\"popover-backdrop popover-backdrop-unique\"></div>');\n        $backdropEl[0].f7PopoverRef = popover;\n        popover.$containerEl.append($backdropEl);\n      } else {\n        $backdropEl = popover.$containerEl.children('.popover-backdrop');\n      }\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popover-backdrop\"></div>');\n        popover.$containerEl.append($backdropEl);\n      }\n    } // Find Angle\n\n\n    let $angleEl;\n\n    if ($el.find('.popover-angle').length === 0) {\n      $angleEl = $('<div class=\"popover-angle\"></div>');\n      $el.prepend($angleEl);\n    } else {\n      $angleEl = $el.find('.popover-angle');\n    } // Open\n\n\n    const originalOpen = popover.open;\n    extend(popover, {\n      app,\n      $el,\n      el: $el[0],\n      $targetEl,\n      targetEl: $targetEl[0],\n      $angleEl,\n      angleEl: $angleEl[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popover',\n      forceBackdropUnique,\n\n      open() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        let [targetEl, animate] = args;\n        if (typeof args[0] === 'boolean') [animate, targetEl] = args;\n\n        if (targetEl) {\n          popover.$targetEl = $(targetEl);\n          popover.targetEl = popover.$targetEl[0];\n        }\n\n        return originalOpen.call(popover, animate);\n      }\n\n    });\n\n    function handleResize() {\n      popover.resize();\n    }\n\n    popover.on('popoverOpen', () => {\n      popover.resize();\n      app.on('resize', handleResize);\n      $(window).on('keyboardDidShow keyboardDidHide', handleResize);\n      popover.on('popoverClose popoverBeforeDestroy', () => {\n        app.off('resize', handleResize);\n        $(window).off('keyboardDidShow keyboardDidHide', handleResize);\n      });\n    });\n    let touchStartTarget = null;\n\n    function handleTouchStart(e) {\n      touchStartTarget = e.target;\n    }\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(popover.el).length === 0) {\n        if (popover.params.closeByBackdropClick && popover.params.backdrop && popover.backdropEl && popover.backdropEl === target && touchStartTarget === target) {\n          popover.close();\n        } else if (popover.params.closeByOutsideClick && touchStartTarget === target) {\n          const isAnotherPopoverBackdrop = $target.hasClass('popover-backdrop-unique') && target.f7PopoverRef !== popover || $target.hasClass('popover-backdrop') && target !== popover.backdropEl;\n          const isAnotherPopoverTarget = target.closest('.popover') && target.closest('.popover') !== popover.$el[0];\n\n          if (!isAnotherPopoverBackdrop && !isAnotherPopoverTarget) {\n            popover.close();\n          }\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n\n      if (keyCode === 27 && popover.params.closeOnEscape) {\n        popover.close();\n      }\n    }\n\n    if (popover.params.closeOnEscape) {\n      popover.on('popoverOpen', () => {\n        $(document).on('keydown', onKeyDown);\n      });\n      popover.on('popoverClose', () => {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    popover.on('popoverOpened', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.on('touchstart', handleTouchStart);\n        app.on('click', handleClick);\n      }\n    });\n    popover.on('popoverClose', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.off('touchstart', handleTouchStart);\n        app.off('click', handleClick);\n      }\n    });\n    $el[0].f7Modal = popover;\n    return popover;\n  }\n\n  resize() {\n    const popover = this;\n    const {\n      app,\n      $el,\n      $targetEl,\n      $angleEl\n    } = popover;\n    const {\n      targetX,\n      targetY,\n      verticalPosition\n    } = popover.params;\n    $el.css({\n      left: '',\n      top: ''\n    });\n    const [width, height] = [$el.width(), $el.height()];\n    let angleSize = 0;\n    let angleLeft;\n    let angleTop;\n\n    if (app.theme === 'ios' || app.theme === 'aurora') {\n      $angleEl.removeClass('on-left on-right on-top on-bottom').css({\n        left: '',\n        top: ''\n      });\n      angleSize = $angleEl.width() / 2;\n    } else {\n      $el.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle').css({\n        left: '',\n        top: ''\n      });\n    }\n\n    let targetWidth;\n    let targetHeight;\n    let targetOffsetLeft;\n    let targetOffsetTop;\n    let safeAreaTop = parseInt($('html').css('--f7-safe-area-top'), 10);\n    let safeAreaLeft = parseInt($('html').css('--f7-safe-area-left'), 10);\n    let safeAreaRight = parseInt($('html').css('--f7-safe-area-right'), 10);\n    if (Number.isNaN(safeAreaTop)) safeAreaTop = 0;\n    if (Number.isNaN(safeAreaLeft)) safeAreaLeft = 0;\n    if (Number.isNaN(safeAreaRight)) safeAreaRight = 0;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n      const targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - app.left;\n      targetOffsetTop = targetOffset.top - app.top;\n      const targetParentPage = $targetEl.parents('.page');\n\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    } else if (typeof targetX !== 'undefined' && targetY !== 'undefined') {\n      targetOffsetLeft = targetX;\n      targetOffsetTop = targetY;\n      targetWidth = popover.params.targetWidth || 0;\n      targetHeight = popover.params.targetHeight || 0;\n    }\n\n    let [left, top, diff] = [0, 0, 0]; // Top Position\n\n    const forcedPosition = verticalPosition === 'auto' ? false : verticalPosition;\n    let position = forcedPosition || (app.theme === 'md' ? 'bottom' : 'top');\n\n    if (app.theme === 'md') {\n      if (forcedPosition === 'bottom' || !forcedPosition && height < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight;\n      } else if (forcedPosition === 'top' || !forcedPosition && height < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height;\n        position = 'top';\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n      }\n\n      top = Math.max(8, Math.min(top, app.height - height - 8)); // Horizontal Position\n\n      let hPosition;\n\n      if (targetOffsetLeft < app.width / 2) {\n        hPosition = 'right';\n        left = position === 'middle' ? targetOffsetLeft + targetWidth : targetOffsetLeft;\n      } else {\n        hPosition = 'left';\n        left = position === 'middle' ? targetOffsetLeft - width : targetOffsetLeft + targetWidth - width;\n      }\n\n      left = Math.max(8, Math.min(left, app.width - width - 8 - safeAreaRight), safeAreaLeft);\n      $el.addClass(`popover-on-${position} popover-on-${hPosition}`);\n    } else {\n      // ios and aurora\n      if (forcedPosition === 'top' || !forcedPosition && height + angleSize < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height - angleSize;\n      } else if (forcedPosition === 'bottom' || !forcedPosition && height + angleSize < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight + angleSize;\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n        diff = top;\n        top = Math.max(5, Math.min(top, app.height - height - 5));\n        diff -= top;\n      } // Horizontal Position\n\n\n      if (position === 'top' || position === 'bottom') {\n        left = targetWidth / 2 + targetOffsetLeft - width / 2;\n        diff = left;\n        left = Math.max(5, Math.min(left, app.width - width - 5));\n\n        if (safeAreaLeft) {\n          left = Math.max(left, safeAreaLeft);\n        }\n\n        if (safeAreaRight && left + width > app.width - 5 - safeAreaRight) {\n          left = app.width - 5 - safeAreaRight - width;\n        }\n\n        if (position === 'top') {\n          $angleEl.addClass('on-bottom');\n        }\n\n        if (position === 'bottom') {\n          $angleEl.addClass('on-top');\n        }\n\n        diff -= left;\n        angleLeft = width / 2 - angleSize + diff;\n        angleLeft = Math.max(Math.min(angleLeft, width - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          left: `${angleLeft}px`\n        });\n      } else if (position === 'middle') {\n        left = targetOffsetLeft - width - angleSize;\n        $angleEl.addClass('on-right');\n\n        if (left < 5 || left + width + safeAreaRight > app.width || left < safeAreaLeft) {\n          if (left < 5) left = targetOffsetLeft + targetWidth + angleSize;\n          if (left + width + safeAreaRight > app.width) left = app.width - width - 5 - safeAreaRight;\n          if (left < safeAreaLeft) left = safeAreaLeft;\n          $angleEl.removeClass('on-right').addClass('on-left');\n        }\n\n        angleTop = height / 2 - angleSize + diff;\n        angleTop = Math.max(Math.min(angleTop, height - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          top: `${angleTop}px`\n        });\n      }\n    } // Apply Styles\n\n\n    $el.css({\n      top: `${top}px`,\n      left: `${left}px`\n    });\n  }\n\n}\n\nexport default Popover;"],"mappings":"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"},"metadata":{},"sourceType":"module"}